(self.webpackChunkai=self.webpackChunkai||[]).push([[356],{1356:(_e,A,P)=>{"use strict";P.r(A),P.d(A,{HandDrawIconModule:()=>mr});var r=P(2096),p=P(9808),h=P(5254),l=P(2916),f=P(6688),k=P(4850),D=P(7830);function C(n,e){return new l.y(t=>{const o=n.length;if(0===o)return void t.complete();const w=new Array(o);let j=0,rt=0;for(let ot=0;ot<o;ot++){const ft=(0,h.D)(n[ot]);let dt=!1;t.add(ft.subscribe({next:yt=>{dt||(dt=!0,rt++),w[ot]=yt},error:yt=>t.error(yt),complete:()=>{j++,(j===o||!dt)&&(rt===o&&t.next(e?e.reduce((yt,mt,xt)=>(yt[mt]=w[xt],yt),{}):w),t.complete())}}))}})}let u=(()=>{class n{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=w=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),_=(()=>{class n extends u{}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const a=new r.OlP("NgValueAccessor"),v={provide:a,useExisting:(0,r.Gpc)(()=>V),multi:!0},O=new r.OlP("CompositionEventMode");let V=(()=>{class n extends u{constructor(t,o,w){super(t,o),this._compositionMode=w,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E(){const n=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(O,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&r.NdJ("input",function(j){return o._handleInput(j.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(j){return o._compositionEnd(j.target.value)})},features:[r._Bn([v]),r.qOj]}),n})();function B(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const I=new r.OlP("NgValidators"),W=new r.OlP("NgAsyncValidators");function F(n){return null}function S(n){return null!=n}function tt(n){return(0,r.QGY)(n)?(0,h.D)(n):n}function K(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function J(n,e){return e.map(t=>t(n))}function bt(n){return n.map(e=>function gt(n){return!n.validate}(e)?e:t=>e.validate(t))}function ut(n){return null!=n?function lt(n){if(!n)return null;const e=n.filter(S);return 0==e.length?null:function(t){return K(J(t,e))}}(bt(n)):null}function pt(n){return null!=n?function vt(n){if(!n)return null;const e=n.filter(S);return 0==e.length?null:function(t){return function y(...n){if(1===n.length){const e=n[0];if((0,f.k)(e))return C(e,null);if((0,D.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return C(t.map(o=>e[o]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return C(n=1===n.length&&(0,f.k)(n[0])?n[0]:n,null).pipe((0,k.U)(t=>e(...t)))}return C(n,null)}(J(t,e).map(tt)).pipe((0,k.U)(K))}}(bt(n)):null}function At(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function z(n){return n?Array.isArray(n)?n:[n]:[]}function N(n,e){return Array.isArray(n)?n.includes(e):n===e}function g(n,e){const t=z(e);return z(n).forEach(w=>{N(t,w)||t.push(w)}),t}function d(n,e){return z(e).filter(t=>!N(n,t))}class x{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class G extends x{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class R extends x{get formDirective(){return null}get path(){return null}}let $=(()=>{class n extends class M{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(G,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&r.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[r.qOj]}),n})();const Bt="VALID",jt="INVALID",It="PENDING",Tt="DISABLED";function ye(n){return Array.isArray(n)?ut(n):n||null}function be(n){return Array.isArray(n)?pt(n):n||null}function Lt(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zt(n,e){var t,o;(function ne(n,e){const t=function Ct(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(At(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const o=function i(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(At(o,e.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const w=()=>n.updateValueAndValidity();qt(e._rawValidators,w),qt(e._rawAsyncValidators,w)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(o=(t=e.valueAccessor).setDisabledState)||void 0===o||o.call(t,!0)),function en(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ae(n,e)})}(n,e),function rn(n,e){const t=(o,w)=>{e.valueAccessor.writeValue(o),w&&e.viewToModelUpdate(o)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nn(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ae(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tn(n,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qt(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ae(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ve(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Oe(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hn={provide:G,useExisting:(0,r.Gpc)(()=>se)},Ie=(()=>Promise.resolve(null))();let se=(()=>{class n extends G{constructor(t,o,w,j,rt){super(),this._changeDetectorRef=rt,this.control=new class extends class ke{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ye(this._rawValidators),this._composedAsyncValidatorFn=be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===jt}get pending(){return this.status==It}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ye(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=be(e)}addValidators(e){this.setValidators(g(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(g(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d(e,this._rawAsyncValidators))}hasValidator(e){return N(this._rawValidators,e)}hasAsyncValidator(e){return N(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=It,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bt,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===It)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=It,this._hasOwnPendingAsyncValidator=!0;const t=tt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,w)=>o&&o._find(w),this)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(It)?It:this._anyControlsHaveStatus(jt)?jt:Bt}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,o){super(function Qt(n){return(Lt(n)?n.validators:n)||null}(t),function te(n,e){return(Lt(e)?e.asyncValidators:n)||null}(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Oe(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ve(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ve(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Oe(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(w),this.valueAccessor=function ie(n,e){if(!e)return null;let t,o,w;return Array.isArray(e),e.forEach(j=>{j.constructor===V?t=j:function an(n){return Object.getPrototypeOf(n.constructor)===_}(j)?o=j:w=j}),w||o||t||null}(0,j)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function re(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ie.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,w=0!==o&&(0,r.D6c)(o);Ie.then(()=>{var j;w&&!this.control.disabled?this.control.disable():!w&&this.control.disabled&&this.control.enable(),null===(j=this._changeDetectorRef)||void 0===j||j.markForCheck()})}_getPath(t){return this._parent?function Zt(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(R,9),r.Y36(I,10),r.Y36(W,10),r.Y36(a,10),r.Y36(r.sBO,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([hn]),r.qOj,r.TTD]}),n})();const pn={provide:a,useExisting:(0,r.Gpc)(()=>ae),multi:!0};let ae=(()=>{class n extends _{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&r.NdJ("input",function(j){return o.onChange(j.target.value)})("blur",function(){return o.onTouched()})},features:[r._Bn([pn]),r.qOj]}),n})(),Ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function Le(n){return"number"==typeof n?n:parseFloat(n)}let Mt=(()=>{class n{constructor(){this._validator=F}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):F,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();const On={provide:I,useExisting:(0,r.Gpc)(()=>fe),multi:!0};let fe=(()=>{class n extends Mt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Le(t),this.createValidator=t=>function s(n){return e=>{if(B(e.value)||B(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&r.uIk("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[r._Bn([On]),r.qOj]}),n})();const Mn={provide:I,useExisting:(0,r.Gpc)(()=>pe),multi:!0};let pe=(()=>{class n extends Mt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Le(t),this.createValidator=t=>function T(n){return e=>{if(B(e.value)||B(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&r.uIk("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[r._Bn([Mn]),r.qOj]}),n})(),zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Ne]}),n})(),Rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[zn]}),n})();var Je=P(6232),Ke=P(6418),Gn=P(7805),ct=P(1346),Un=P(5650),Hn=P.n(Un);class Xe extends ct.ugM.Layer{constructor(e){super(e)}computeOutputShape(e){return ct.D5U.assert(2===e.length&&Array.isArray(e[0]),()=>`Expected exactly 2 input shapes. But got: ${e}`),e[0]}call(e,t){const[o,w]=e,dt=ct.nGf([o.shape[0],o.shape[1]],0,1);return o.add(w.mul(.5).exp().mul(dt))}static get className(){return"ZLayer"}}ct.m7h.registerClass(Xe);var qn=P(6536),Yn=P(7688);const $n=["iptUpload"],Jn=["progessTag"],Kn=["previewCanvas"],Xn=["canvasCon"],Qn=["handDrawImagesCon"],tr=["predictCon"],er=["appCon"],nr=["loadingCon"],rr=["loadingCon2"],ir=["hideDownloadBtn"];function or(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"input",31),r.NdJ("ngModelChange",function(w){r.CHM(t);const j=r.oxw();return r.KtG(j.epochs=w)}),r.qZA()}if(2&n){const t=r.oxw();r.Q6J("ngModel",t.epochs)}}function sr(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"button",32),r.NdJ("click",function(){r.CHM(t);const w=r.oxw();return r.KtG(w.train())}),r._uU(1,"Train model"),r.qZA()}}function ar(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"button",33),r.NdJ("click",function(){r.CHM(t);const w=r.oxw();return r.KtG(w.predict())}),r._uU(1,"Predict"),r.qZA()}}function lr(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"button",34),r.NdJ("click",function(){r.CHM(t);const w=r.oxw();return r.KtG(w.download())}),r._uU(1,"download"),r.qZA()}}function ur(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",35),r._UZ(1,"img",36),r.TgZ(2,"a",6),r.NdJ("click",function(){const j=r.CHM(t).index,rt=r.oxw();return r.KtG(rt.removehandDraw(j))}),r._uU(3,"x"),r.qZA()()}if(2&n){const t=e.$implicit;r.xp6(1),r.Q6J("src",t,r.LSH)}}function cr(n,e){1&n&&r._UZ(0,"canvas")}const dr=/^data\:image\/png\;/i,Pt={originalDim:1024,intermediateDim:512,latentDim:2},fr=[{path:"",component:(()=>{class n{constructor(t){this.cd=t,this.handDrawImages=[],this.canPredict=!1,this.hasPredicted=!1,this.leastNum=4,this.epochs=3e3,this.canTrain=!1,this.predictSlot=new Array(50)}ngAfterViewInit(){this.initCanvas(),this.hidePredict()}ngOnDestroy(){this._dispose(this.sourceData),this._dispose(this.decoderModel),this._dispose(this.encoderModel),this._dispose(this.vaeModel),this._dispose(this.optimizer)}_dispose(t){t&&t.dispose()}forceUpdate(){Promise.resolve().then(()=>{this.cd&&this.cd.detectChanges()})}openUploader(){this.iptUpload.nativeElement.click()}readImage(t){return new Promise(o=>{let w=new FileReader;w.onload=()=>{o(w.result)},w.readAsDataURL(t)})}uploadImages(t){let o=Array.from(t.target.files).filter(j=>"image/jpeg"===j.type||"image/png"===j.type),w=o.length;if(w>0){this.showloading2();let j=[],rt=ot=>{j.push(ot),w--,0===w&&(this.handDrawImages=this.handDrawImages.concat(j),this.forceUpdate(),this.hideLoading2())};o.forEach(ot=>{this.readImage(ot).then(ft=>{rt(ft)})})}}getAndAugmentImagesData(){return new Promise(t=>{let w=Array.from(this.handDrawImagesCon.nativeElement.getElementsByTagName("img")).map(rt=>{let ot=ct.Xhn.fromPixels(rt,1).asType("float32"),ft=ct.BHj.resizeBilinear(ot,[32,32]),dt=ft.div(255);if(dr.test(rt.src)){let yt=dt.mul(-1),mt=yt.add(1),xt=mt.floor();return ct.B90([ot,ft,dt,yt,mt]),xt}{let yt=dt.round();return ct.B90([ot,ft,dt]),yt}}),j=w.length;this.sourceImages=[],w.forEach((rt,ot)=>{ct.Xhn.toPixels(rt).then(ft=>{j--;let dt=document.createElement("canvas");dt.width=32,dt.height=32;let yt=dt.getContext("2d"),mt=yt.createImageData(32,32);mt.data.set(ft),yt.putImageData(mt,0,0),this.sourceImages.push(dt.toDataURL("image/jpg")),j<=0&&(this.sourceData=ct.knu(w),w.forEach(xt=>{xt.dispose()}),t(1))})})})}train(){this.handDrawImages.length>=this.leastNum&&(this.canPredict=!0,this.canTrain=!0,this.hidePredict(),this.showloading(),this.getAndAugmentImagesData().then(()=>{console.log("Data ready"),this._train(this.sourceData)}))}_train(t){return new Promise((o,w)=>{let j=this.handDrawImages.length;this._dispose(this.decoderModel),this.decoderModel=function Ln(n){const{originalDim:e,intermediateDim:t,latentDim:o}=n,w=ct.qHZ({shape:[o]});let j=ct.ugM.dense({units:t,activation:"relu"}).apply(w);return j=ct.ugM.dense({units:e,activation:"sigmoid"}).apply(j),ct.o4J({inputs:w,outputs:j})}(Pt),this.encoderModel=function jn(n){const{originalDim:e,intermediateDim:t,latentDim:o}=n,w=ct.qHZ({shape:[e],name:"encoder_input"}),j=ct.ugM.dense({units:t,activation:"relu"}).apply(w),rt=ct.ugM.dense({units:o,name:"z_mean"}).apply(j),ot=ct.ugM.dense({units:o,name:"z_log_var"}).apply(j),ft=new Xe({name:"z",outputShape:[o]}).apply([rt,ot]);return ct.o4J({inputs:w,outputs:[rt,ot,ft],name:"encoder"})}(Pt),this.vaeModel=function Zn(n,e){const t=n.inputs,o=n.apply(t),j=e.apply(o[2]);return ct.o4J({inputs:t,outputs:[j,...o],name:"vae_mlp"})}(this.encoderModel,this.decoderModel),this.optimizer=ct.p_j.adam();const rt=Math.ceil(j/4),ot=[];let ft=0,dt=Math.max(300,+this.epochs);for(let mt=0;mt<rt;mt++)mt===rt-1?(ft=j-4*mt,ot.push(t.slice(4*mt,ft))):ot.push(t.slice(4*mt,4));const yt=(mt,xt)=>{if(mt<dt)if(xt<ot.length){const ge=ot[xt].reshape([xt===ot.length-1?ft:4,Pt.originalDim]);this.optimizer.minimize(()=>{const gr=this.vaeModel.apply(ge);return function Wn(n,e){return ct.lub(()=>{const t=n.shape[1],w=e[1],j=e[2],rt=ct.MB5.meanSquaredError(n,e[0]).mul(t);let ot=j.add(1).sub(w.square()).sub(j.exp());return ot=ot.sum(-1).mul(-.5),rt.add(ot).mean()})}(ge,gr)}),ct.B90([ge]),setTimeout(()=>{yt(mt,xt+1)},0)}else{this.progessTag.nativeElement.innerHTML=`Progress: ${mt+1} / ${dt}`,console.log(`\nEpoch #${mt+1} of ${dt} finished \n`);const $t=ct.lls([Pt.latentDim]).expandDims();this.preview($t,this.previewCanvas.nativeElement).then(()=>{ct.B90([$t]),this.canTrain&&yt(mt+1,0)})}else console.log("Now you can click 'stop training' button. <bt>Then click 'predict' button to check the results."),this.progessTag.nativeElement.innerHTML="Now you can click 'stop training' button. <bt>Then click 'predict' button to check the results.",ct.B90([t,ot]),o(1)};console.log(`ready to train ${dt}, ${ot.length}`),yt(0,0)})}preview(t,o){return new Promise(w=>{const j=this.decoderModel.predict(t);let rt=j.dataSync();const ot=ct.f3b([32,32,3]);for(let ft=0;ft<32;++ft)for(let dt=0;dt<32;++dt){const mt=Math.round(rt[32*ft+dt]);ot.set(mt,ft,dt,0),ot.set(mt,ft,dt,1),ot.set(mt,ft,dt,2)}ct.Xhn.toPixels(ot.toTensor(),o).then(()=>{ct.B90([ot,j]),w(1)})})}hidePredict(){this.predictCon.nativeElement.className="hide"}showPredict(){this.predictCon.nativeElement.className=""}predict(){if(this.decoderModel){let t=Array.from(this.predictCon.nativeElement.getElementsByTagName("canvas")),o=t.length;t.forEach((w,j)=>{const rt=ct.LGj([Pt.latentDim,2],-4,4);this.preview(rt,w).then(()=>{ct.B90([rt]),o--,0===o&&(this.showPredict(),this.hasPredicted=!0)})})}}stopTrain(){this.canTrain=!1,this.hideLoading()}addhandDraw(){this.handDrawImages.push(this.canvas.toDataURL("image/PNG")),this.clearCanvas(),this.forceUpdate()}removehandDraw(t){this.handDrawImages.length>t&&this.handDrawImages.splice(t,1)}showloading(){this.loadingCon.nativeElement.className="mask"}hideLoading(){this.loadingCon.nativeElement.className="mask hide"}showloading2(){this.loadingCon2.nativeElement.className="mask"}hideLoading2(){this.loadingCon2.nativeElement.className="mask hide"}initCanvas(){let t=this.canvasCon.nativeElement;this.draw=new Gn.Z(t,256,256,{style:{borderStyle:"solid",borderColor:"none"},backgroundColor:"#fffff5",strokeColor:"#333333",strokeWeight:16}),this.canvas=t.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx?(this.ctx.strokeStyle="#333333",this.ctx.fillStyle="white"):console.warn("no content 2d")}download(){this.showloading2();let t=new(Hn());this.sourceImages.length>0&&(this.sourceImages.forEach((o,w)=>{t.file(`source/${w}.jpg`,o.split(",")[1],{base64:!0})}),this.hasPredicted&&Array.from(this.predictCon.nativeElement.getElementsByTagName("canvas")).forEach((w,j)=>{let rt=w.toDataURL("image/jpg");t.file(`ai/${j}.jpg`,rt.split(",")[1],{base64:!0})}),t.generateAsync({type:"blob"}).then(o=>{const w=window.URL.createObjectURL(o);let j=this.hideDownloadBtn.nativeElement;j.href=w,j.download="webex-ai-icon.zip",j.click()}).catch(o=>{console.log("zip error",o)}).finally(()=>{this.hideLoading2()}))}clearCanvas(){this.draw&&this.draw.reset()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["webex-hand-draw-icon"]],viewQuery:function(t,o){if(1&t&&(r.Gf($n,5),r.Gf(Jn,5),r.Gf(Kn,5),r.Gf(Xn,5),r.Gf(Qn,5),r.Gf(tr,5),r.Gf(er,5),r.Gf(nr,5),r.Gf(rr,5),r.Gf(ir,5)),2&t){let w;r.iGM(w=r.CRH())&&(o.iptUpload=w.first),r.iGM(w=r.CRH())&&(o.progessTag=w.first),r.iGM(w=r.CRH())&&(o.previewCanvas=w.first),r.iGM(w=r.CRH())&&(o.canvasCon=w.first),r.iGM(w=r.CRH())&&(o.handDrawImagesCon=w.first),r.iGM(w=r.CRH())&&(o.predictCon=w.first),r.iGM(w=r.CRH())&&(o.appCon=w.first),r.iGM(w=r.CRH())&&(o.loadingCon=w.first),r.iGM(w=r.CRH())&&(o.loadingCon2=w.first),r.iGM(w=r.CRH())&&(o.hideDownloadBtn=w.first)}},decls:44,vars:8,consts:[[1,"mask","hide"],["loadingCon",""],["primary","Training......","secondary","Check the changing","className","middle"],[1,"previewCanvas"],["previewCanvas",""],["progessTag",""],[1,"button-red",3,"click"],["loadingCon2",""],["primary","Loading...","className","large"],["appCon",""],["primary","Watch how AI learn your painting.","className","middle",3,"secondary"],[1,"canvas"],["canvasCon",""],["type","file","accept","image/png, image/jpeg","webkitdirectory","","multiple","",1,"hide",3,"change"],["iptUpload",""],[1,"list-con"],[1,"button-blue",3,"click"],[1,"button-orange",3,"click"],[1,"hide"],["hideDownloadBtn",""],["class","input","type","number","min","300","max","5000","step","100","onKeyDown","return false",3,"ngModel","ngModelChange",4,"ngIf"],["class","button-red highlight-purple",3,"click",4,"ngIf"],["class","button-red highlight-orange",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["primary","We will use these images to train AI model","secondary","1. Click 'add canvas' button to confirm your image.\n        <br>2. You can also click 'upload images' button to upload local images.\n        <br>3. If you want to remove the image, click 'X' at the bottom of image. ","className","middle"],["handDrawImagesCon",""],["class","list-card",4,"ngFor","ngForOf"],["predictCon",""],["primary","AI Generated IMAGES","className","small"],[1,"predict-images"],[4,"ngFor","ngForOf"],["type","number","min","300","max","5000","step","100","onKeyDown","return false",1,"input",3,"ngModel","ngModelChange"],[1,"button-red","highlight-purple",3,"click"],[1,"button-red","highlight-orange",3,"click"],[3,"click"],[1,"list-card"],["width","64","height","64",3,"src"]],template:function(t,o){1&t&&(r.TgZ(0,"div",0,1),r._UZ(2,"webex-description",2)(3,"canvas",3,4),r.TgZ(5,"h1",null,5),r._uU(7,"100"),r.qZA(),r.TgZ(8,"button",6),r.NdJ("click",function(){return o.stopTrain()}),r._uU(9,"stop training"),r.qZA()(),r.TgZ(10,"div",0,7),r._UZ(12,"webex-description",8),r.qZA(),r.TgZ(13,"div",null,9)(15,"webex-con"),r._UZ(16,"webex-description",10)(17,"div",11,12),r.TgZ(19,"input",13,14),r.NdJ("change",function(j){return o.uploadImages(j)}),r.qZA(),r.TgZ(21,"div",15)(22,"button",16),r.NdJ("click",function(){return o.clearCanvas()}),r._uU(23,"clear canvas"),r.qZA(),r.TgZ(24,"button",17),r.NdJ("click",function(){return o.openUploader()}),r._uU(25,"upload images"),r.qZA(),r.TgZ(26,"button",17),r.NdJ("click",function(){return o.addhandDraw()}),r._uU(27,"add canvas"),r.qZA()(),r.TgZ(28,"div",15),r._UZ(29,"a",18,19),r.YNc(31,or,1,1,"input",20),r.YNc(32,sr,2,0,"button",21),r.YNc(33,ar,2,0,"button",22),r.YNc(34,lr,2,0,"button",23),r.qZA(),r._UZ(35,"webex-description",24),r.TgZ(36,"div",15,25),r.YNc(38,ur,4,1,"div",26),r.qZA(),r.TgZ(39,"div",null,27),r._UZ(41,"webex-description",28),r.TgZ(42,"div",29),r.YNc(43,cr,1,0,"canvas",30),r.qZA()()()()),2&t&&(r.xp6(16),r.hYB("secondary","Draw at least ",o.leastNum," icons. You 've already drawn ",o.handDrawImages.length," icons"),r.xp6(15),r.Q6J("ngIf",o.handDrawImages.length>=o.leastNum),r.xp6(1),r.Q6J("ngIf",o.handDrawImages.length>=o.leastNum),r.xp6(1),r.Q6J("ngIf",o.canPredict),r.xp6(1),r.Q6J("ngIf",o.canPredict),r.xp6(4),r.Q6J("ngForOf",o.handDrawImages),r.xp6(5),r.Q6J("ngForOf",o.predictSlot))},dependencies:[p.sg,p.O5,qn.J,Yn.w,V,ae,$,pe,fe,se],styles:["[_nghost-%COMP%]{display:block;height:auto;line-height:auto;width:100%;overflow:hidden;margin-bottom:10rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}webex-description[_ngcontent-%COMP%]{margin-top:2rem}.canvas[_ngcontent-%COMP%]{margin-top:1rem}.canvas[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;height:256px;line-height:256px;width:256px;box-shadow:0 0 1px 1px #fff3;background:white}.mask[_ngcontent-%COMP%]{text-align:center}.mask[_ngcontent-%COMP%]   webex-description[_ngcontent-%COMP%]{margin-top:10rem}.mask[_ngcontent-%COMP%]   .previewCanvas[_ngcontent-%COMP%]{display:block;height:32px;line-height:32px;width:32px;box-shadow:0 0 1px 1px #fff3;background:white;margin:1rem auto 0}.mask[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .mask[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block;margin:2rem auto 0}.list-con[_ngcontent-%COMP%]{margin-top:1rem}.list-con[_ngcontent-%COMP%]   .list-card[_ngcontent-%COMP%]{display:inline-block;height:64px;line-height:64px;width:64px;margin:14px 0 0 10px;text-align:center}.list-con[_ngcontent-%COMP%]   .list-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:64px;line-height:64px;width:64px;background:white;border:none}.list-con[_ngcontent-%COMP%]   .list-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:20px;line-height:20px;width:20px;margin:7px auto 0}.predict-images[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:inline-block;height:32px;line-height:32px;width:32px;margin:7px 0 0 7px;background:white;border:none}"]}),n})()}];let pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Ke.Bz.forChild(fr),Ke.Bz]}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[p.ez,Je.Le,Je.EY,Rn,pr]}),n})()},5650:_e=>{_e.exports=function A(P,r,p){function h(k,D){if(!r[k]){if(!P[k]){if(l)return l(k,!0);var C=new Error("Cannot find module '"+k+"'");throw C.code="MODULE_NOT_FOUND",C}var u=r[k]={exports:{}};P[k][0].call(u.exports,function(_){return h(P[k][1][_]||_)},u,u.exports,A,P,r,p)}return r[k].exports}for(var l=void 0,f=0;f<p.length;f++)h(p[f]);return h}({1:[function(A,P,r){"use strict";var p=A("./utils"),h=A("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(f){for(var k,D,y,u,_,a,m=[],c=0,v=f.length,E=v,O="string"!==p.getTypeOf(f);c<f.length;)E=v-c,y=O?(k=f[c++],D=c<v?f[c++]:0,c<v?f[c++]:0):(k=f.charCodeAt(c++),D=c<v?f.charCodeAt(c++):0,c<v?f.charCodeAt(c++):0),u=(3&k)<<4|D>>4,_=1<E?(15&D)<<2|y>>6:64,a=2<E?63&y:64,m.push(l.charAt(k>>2)+l.charAt(u)+l.charAt(_)+l.charAt(a));return m.join("")},r.decode=function(f){var k,D,y,C,u,_,a=0,m=0,c="data:";if(f.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var v,E=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===l.charAt(64)&&E--,f.charAt(f.length-2)===l.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=h.uint8array?new Uint8Array(0|E):new Array(0|E);a<f.length;)k=l.indexOf(f.charAt(a++))<<2|(C=l.indexOf(f.charAt(a++)))>>4,D=(15&C)<<4|(u=l.indexOf(f.charAt(a++)))>>2,y=(3&u)<<6|(_=l.indexOf(f.charAt(a++))),v[m++]=k,64!==u&&(v[m++]=D),64!==_&&(v[m++]=y);return v}},{"./support":30,"./utils":32}],2:[function(A,P,r){"use strict";var p=A("./external"),h=A("./stream/DataWorker"),l=A("./stream/Crc32Probe"),f=A("./stream/DataLengthProbe");function k(D,y,C,u,_){this.compressedSize=D,this.uncompressedSize=y,this.crc32=C,this.compression=u,this.compressedContent=_}k.prototype={getContentWorker:function(){var D=new h(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),y=this;return D.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new h(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(D,y,C){return D.pipe(new l).pipe(new f("uncompressedSize")).pipe(y.compressWorker(C)).pipe(new f("compressedSize")).withStreamInfo("compression",y)},P.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,P,r){"use strict";var p=A("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},r.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,P,r){"use strict";var p=A("./utils"),h=function(){for(var l,f=[],k=0;k<256;k++){l=k;for(var D=0;D<8;D++)l=1&l?3988292384^l>>>1:l>>>1;f[k]=l}return f}();P.exports=function(l,f){return void 0!==l&&l.length?"string"!==p.getTypeOf(l)?function(k,D,y,C){var u=h,_=0+y;k^=-1;for(var a=0;a<_;a++)k=k>>>8^u[255&(k^D[a])];return-1^k}(0|f,l,l.length):function(k,D,y,C){var u=h,_=0+y;k^=-1;for(var a=0;a<_;a++)k=k>>>8^u[255&(k^D.charCodeAt(a))];return-1^k}(0|f,l,l.length):0}},{"./utils":32}],5:[function(A,P,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(A,P,r){"use strict";var p;p="undefined"!=typeof Promise?Promise:A("lie"),P.exports={Promise:p}},{lie:37}],7:[function(A,P,r){"use strict";var p="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,h=A("pako"),l=A("./utils"),f=A("./stream/GenericWorker"),k=p?"uint8array":"array";function D(y,C){f.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=C,this.meta={}}r.magic="\b\0",l.inherits(D,f),D.prototype.processChunk=function(y){this.meta=y.meta,null===this._pako&&this._createPako(),this._pako.push(l.transformTo(k,y.data),!1)},D.prototype.flush=function(){f.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(C){y.push({data:C,meta:y.meta})}},r.compressWorker=function(y){return new D("Deflate",y)},r.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,P,r){"use strict";function p(u,_){var a,m="";for(a=0;a<_;a++)m+=String.fromCharCode(255&u),u>>>=8;return m}function h(u,_,a,m,c,v){var E,O,V=u.file,H=u.compression,B=v!==k.utf8encode,Z=l.transformTo("string",v(V.name)),I=l.transformTo("string",k.utf8encode(V.name)),W=V.comment,et=l.transformTo("string",v(W)),b=l.transformTo("string",k.utf8encode(W)),T=I.length!==V.name.length,s=b.length!==W.length,U="",it="",L="",st=V.dir,q=V.date,nt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!a||(nt.crc32=u.crc32,nt.compressedSize=u.compressedSize,nt.uncompressedSize=u.uncompressedSize);var F=0;_&&(F|=8),B||!T&&!s||(F|=2048);var J,bt,S=0,tt=0;st&&(S|=16),"UNIX"===c?(tt=798,S|=(bt=J=V.unixPermissions,J||(bt=st?16893:33204),(65535&bt)<<16)):(tt=20,S|=function(J){return 63&(J||0)}(V.dosPermissions)),E=q.getUTCHours(),E<<=6,E|=q.getUTCMinutes(),E<<=5,E|=q.getUTCSeconds()/2,O=q.getUTCFullYear()-1980,O<<=4,O|=q.getUTCMonth()+1,O<<=5,O|=q.getUTCDate(),T&&(it=p(1,1)+p(D(Z),4)+I,U+="up"+p(it.length,2)+it),s&&(L=p(1,1)+p(D(et),4)+b,U+="uc"+p(L.length,2)+L);var K="";return K+="\n\0",K+=p(F,2),K+=H.magic,K+=p(E,2),K+=p(O,2),K+=p(nt.crc32,4),K+=p(nt.compressedSize,4),K+=p(nt.uncompressedSize,4),K+=p(Z.length,2),K+=p(U.length,2),{fileRecord:y.LOCAL_FILE_HEADER+K+Z+U,dirRecord:y.CENTRAL_FILE_HEADER+p(tt,2)+K+p(et.length,2)+"\0\0\0\0"+p(S,4)+p(m,4)+Z+U+et}}var l=A("../utils"),f=A("../stream/GenericWorker"),k=A("../utf8"),D=A("../crc32"),y=A("../signature");function C(u,_,a,m){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=a,this.encodeFileName=m,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(C,f),C.prototype.push=function(u){var _=u.meta.percent||0,a=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,f.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:a?(_+100*(a-m-1))/a:100}}))},C.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var _=this.streamFiles&&!u.file.dir;if(_){var a=h(u,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0},C.prototype.closedSource=function(u){this.accumulate=!1;var m,_=this.streamFiles&&!u.file.dir,a=h(u,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),_)this.push({data:(m=u,y.DATA_DESCRIPTOR+p(m.crc32,4)+p(m.compressedSize,4)+p(m.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},C.prototype.flush=function(){for(var u=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var c,v,E,H,m=(c=this.dirRecords.length,v=this.bytesWritten-u,E=u,H=l.transformTo("string",(0,this.encodeFileName)(this.zipComment)),y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(c,2)+p(c,2)+p(v,4)+p(E,4)+p(H.length,2)+H);this.push({data:m,meta:{percent:100}})},C.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},C.prototype.registerPrevious=function(u){this._sources.push(u);var _=this;return u.on("data",function(a){_.processChunk(a)}),u.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),u.on("error",function(a){_.error(a)}),this},C.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},C.prototype.error=function(u){var _=this._sources;if(!f.prototype.error.call(this,u))return!1;for(var a=0;a<_.length;a++)try{_[a].error(u)}catch(m){}return!0},C.prototype.lock=function(){f.prototype.lock.call(this);for(var u=this._sources,_=0;_<u.length;_++)u[_].lock()},P.exports=C},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,P,r){"use strict";var p=A("../compressions"),h=A("./ZipFileWorker");r.generateWorker=function(l,f,k){var D=new h(f.streamFiles,k,f.platform,f.encodeFileName),y=0;try{l.forEach(function(C,u){y++;var _=function(v,E){var O=v||E,V=p[O];if(!V)throw new Error(O+" is not a valid compression method !");return V}(u.options.compression,f.compression),m=u.dir,c=u.date;u._compressWorker(_,u.options.compressionOptions||f.compressionOptions||{}).withStreamInfo("file",{name:C,dir:m,date:c,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(D)}),D.entriesCount=y}catch(C){D.error(C)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,P,r){"use strict";function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new p;for(var l in this)"function"!=typeof this[l]&&(h[l]=this[l]);return h}}(p.prototype=A("./object")).loadAsync=A("./load"),p.support=A("./support"),p.defaults=A("./defaults"),p.version="3.10.1",p.loadAsync=function(h,l){return(new p).loadAsync(h,l)},p.external=A("./external"),P.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,P,r){"use strict";var p=A("./utils"),h=A("./external"),l=A("./utf8"),f=A("./zipEntries"),k=A("./stream/Crc32Probe"),D=A("./nodejsUtils");function y(C){return new h.Promise(function(u,_){var a=C.decompressed.getContentWorker().pipe(new k);a.on("error",function(m){_(m)}).on("end",function(){a.streamInfo.crc32!==C.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}P.exports=function(C,u){var _=this;return u=p.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),D.isNode&&D.isStream(C)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",C,!0,u.optimizedBinaryString,u.base64).then(function(a){var m=new f(u);return m.load(a),m}).then(function(a){var m=[h.Promise.resolve(a)],c=a.files;if(u.checkCRC32)for(var v=0;v<c.length;v++)m.push(y(c[v]));return h.Promise.all(m)}).then(function(a){for(var m=a.shift(),c=m.files,v=0;v<c.length;v++){var E=c[v],O=E.fileNameStr,V=p.resolve(E.fileNameStr);_.file(V,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:u.createFolders}),E.dir||(_.file(V).unsafeOriginalName=O)}return m.zipComment.length&&(_.comment=m.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,P,r){"use strict";var p=A("../utils"),h=A("../stream/GenericWorker");function l(f,k){h.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(k)}p.inherits(l,h),l.prototype._bindStream=function(f){var k=this;(this._stream=f).pause(),f.on("data",function(D){k.push({data:D,meta:{percent:0}})}).on("error",function(D){k.isPaused?this.generatedError=D:k.error(D)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},l.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},P.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,P,r){"use strict";var p=A("readable-stream").Readable;function h(l,f,k){p.call(this,f),this._helper=l;var D=this;l.on("data",function(y,C){D.push(y)||D._helper.pause(),k&&k(C)}).on("error",function(y){D.emit("error",y)}).on("end",function(){D.push(null)})}A("../utils").inherits(h,p),h.prototype._read=function(){this._helper.resume()},P.exports=h},{"../utils":32,"readable-stream":16}],14:[function(A,P,r){"use strict";P.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(p,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(p,h);if("number"==typeof p)throw new Error('The "data" argument must not be a number');return new Buffer(p,h)},allocBuffer:function(p){if(Buffer.alloc)return Buffer.alloc(p);var h=new Buffer(p);return h.fill(0),h},isBuffer:function(p){return Buffer.isBuffer(p)},isStream:function(p){return p&&"function"==typeof p.on&&"function"==typeof p.pause&&"function"==typeof p.resume}}},{}],15:[function(A,P,r){"use strict";function p(V,H,B){var Z,I=l.getTypeOf(H),W=l.extend(B||{},D);W.date=W.date||new Date,null!==W.compression&&(W.compression=W.compression.toUpperCase()),"string"==typeof W.unixPermissions&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(V=c(V)),W.createFolders&&(Z=m(V))&&v.call(this,Z,!0),B&&void 0!==B.binary||(W.binary=!("string"===I&&!1===W.binary&&!1===W.base64)),(H instanceof y&&0===H.uncompressedSize||W.dir||!H||0===H.length)&&(W.base64=!1,W.binary=!0,H="",W.compression="STORE",I="string");var b;b=H instanceof y||H instanceof f?H:_.isNode&&_.isStream(H)?new a(V,H):l.prepareContent(V,H,W.binary,W.optimizedBinaryString,W.base64);var T=new C(V,b,W);this.files[V]=T}var h=A("./utf8"),l=A("./utils"),f=A("./stream/GenericWorker"),k=A("./stream/StreamHelper"),D=A("./defaults"),y=A("./compressedObject"),C=A("./zipObject"),u=A("./generate"),_=A("./nodejsUtils"),a=A("./nodejs/NodejsStreamInputAdapter"),m=function(V){"/"===V.slice(-1)&&(V=V.substring(0,V.length-1));var H=V.lastIndexOf("/");return 0<H?V.substring(0,H):""},c=function(V){return"/"!==V.slice(-1)&&(V+="/"),V},v=function(V,H){return H=void 0!==H?H:D.createFolders,V=c(V),this.files[V]||p.call(this,V,null,{dir:!0,createFolders:H}),this.files[V]};function E(V){return"[object RegExp]"===Object.prototype.toString.call(V)}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var H,B,Z;for(H in this.files)Z=this.files[H],(B=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&V(B,Z)},filter:function(V){var H=[];return this.forEach(function(B,Z){V(B,Z)&&H.push(Z)}),H},file:function(V,H,B){if(1!==arguments.length)return p.call(this,V=this.root+V,H,B),this;if(E(V)){var Z=V;return this.filter(function(W,et){return!et.dir&&Z.test(W)})}var I=this.files[this.root+V];return I&&!I.dir?I:null},folder:function(V){if(!V)return this;if(E(V))return this.filter(function(I,W){return W.dir&&V.test(I)});var B=v.call(this,this.root+V),Z=this.clone();return Z.root=B.name,Z},remove:function(V){var H=this.files[V=this.root+V];if(H||("/"!==V.slice(-1)&&(V+="/"),H=this.files[V]),H&&!H.dir)delete this.files[V];else for(var B=this.filter(function(I,W){return W.name.slice(0,V.length)===V}),Z=0;Z<B.length;Z++)delete this.files[B[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var H,B={};try{if((B=l.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),"binarystring"===B.type&&(B.type="string"),!B.type)throw new Error("No output type specified.");l.checkSupport(B.type),"darwin"!==B.platform&&"freebsd"!==B.platform&&"linux"!==B.platform&&"sunos"!==B.platform||(B.platform="UNIX"),"win32"===B.platform&&(B.platform="DOS"),H=u.generateWorker(this,B,B.comment||this.comment||"")}catch(I){(H=new f("error")).error(I)}return new k(H,B.type||"string",B.mimeType)},generateAsync:function(V,H){return this.generateInternalStream(V).accumulate(H)},generateNodeStream:function(V,H){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(H)}};P.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,P,r){"use strict";P.exports=A("stream")},{stream:void 0}],17:[function(A,P,r){"use strict";var p=A("./DataReader");function h(l){p.call(this,l);for(var f=0;f<this.data.length;f++)l[f]=255&l[f]}A("../utils").inherits(h,p),h.prototype.byteAt=function(l){return this.data[this.zero+l]},h.prototype.lastIndexOfSignature=function(l){for(var f=l.charCodeAt(0),k=l.charCodeAt(1),D=l.charCodeAt(2),y=l.charCodeAt(3),C=this.length-4;0<=C;--C)if(this.data[C]===f&&this.data[C+1]===k&&this.data[C+2]===D&&this.data[C+3]===y)return C-this.zero;return-1},h.prototype.readAndCheckSignature=function(l){var f=l.charCodeAt(0),k=l.charCodeAt(1),D=l.charCodeAt(2),y=l.charCodeAt(3),C=this.readData(4);return f===C[0]&&k===C[1]&&D===C[2]&&y===C[3]},h.prototype.readData=function(l){if(this.checkOffset(l),0===l)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},P.exports=h},{"../utils":32,"./DataReader":18}],18:[function(A,P,r){"use strict";var p=A("../utils");function h(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var f,k=0;for(this.checkOffset(l),f=this.index+l-1;f>=this.index;f--)k=(k<<8)+this.byteAt(f);return this.index+=l,k},readString:function(l){return p.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},P.exports=h},{"../utils":32}],19:[function(A,P,r){"use strict";var p=A("./Uint8ArrayReader");function h(l){p.call(this,l)}A("../utils").inherits(h,p),h.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},P.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,P,r){"use strict";var p=A("./DataReader");function h(l){p.call(this,l)}A("../utils").inherits(h,p),h.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},h.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},h.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},h.prototype.readData=function(l){this.checkOffset(l);var f=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},P.exports=h},{"../utils":32,"./DataReader":18}],21:[function(A,P,r){"use strict";var p=A("./ArrayReader");function h(l){p.call(this,l)}A("../utils").inherits(h,p),h.prototype.readData=function(l){if(this.checkOffset(l),0===l)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,f},P.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(A,P,r){"use strict";var p=A("../utils"),h=A("../support"),l=A("./ArrayReader"),f=A("./StringReader"),k=A("./NodeBufferReader"),D=A("./Uint8ArrayReader");P.exports=function(y){var C=p.getTypeOf(y);return p.checkSupport(C),"string"!==C||h.uint8array?"nodebuffer"===C?new k(y):h.uint8array?new D(p.transformTo("uint8array",y)):new l(p.transformTo("array",y)):new f(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,P,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(A,P,r){"use strict";var p=A("./GenericWorker"),h=A("../utils");function l(f){p.call(this,"ConvertWorker to "+f),this.destType=f}h.inherits(l,p),l.prototype.processChunk=function(f){this.push({data:h.transformTo(this.destType,f.data),meta:f.meta})},P.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(A,P,r){"use strict";var p=A("./GenericWorker"),h=A("../crc32");function l(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(l,p),l.prototype.processChunk=function(f){this.streamInfo.crc32=h(f.data,this.streamInfo.crc32||0),this.push(f)},P.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,P,r){"use strict";var p=A("../utils"),h=A("./GenericWorker");function l(f){h.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}p.inherits(l,h),l.prototype.processChunk=function(f){f&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+f.data.length),h.prototype.processChunk.call(this,f)},P.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(A,P,r){"use strict";var p=A("../utils"),h=A("./GenericWorker");function l(f){h.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(D){k.dataIsReady=!0,k.data=D,k.max=D&&D.length||0,k.type=p.getTypeOf(D),k.isPaused||k._tickAndRepeat()},function(D){k.error(D)})}p.inherits(l,h),l.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,k);break;case"uint8array":f=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":f=this.data.slice(this.index,k)}return this.index=k,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},P.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(A,P,r){"use strict";function p(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,l){return this._listeners[h].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,l){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,l)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var l=this;return h.on("data",function(f){l.processChunk(f)}),h.on("end",function(){l.end()}),h.on("error",function(f){l.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,l){return this.extraStreamInfo[h]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},P.exports=p},{}],29:[function(A,P,r){"use strict";var p=A("../utils"),h=A("./ConvertWorker"),l=A("./GenericWorker"),f=A("../base64"),k=A("../support"),D=A("../external"),y=null;if(k.nodestream)try{y=A("../nodejs/NodejsStreamOutputAdapter")}catch(_){}function u(_,a,m){var c=a;switch(a){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=a,this._mimeType=m,p.checkSupport(c),this._worker=_.pipe(new h(c)),_.lock()}catch(v){this._worker=new l("error"),this._worker.error(v)}}u.prototype={accumulate:function(_){return function C(_,a){return new D.Promise(function(m,c){var v=[],E=_._internalType,O=_._outputType,V=_._mimeType;_.on("data",function(H,B){v.push(H),a&&a(B)}).on("error",function(H){v=[],c(H)}).on("end",function(){try{var H=function(B,Z,I){switch(B){case"blob":return p.newBlob(p.transformTo("arraybuffer",Z),I);case"base64":return f.encode(Z);default:return p.transformTo(B,Z)}}(O,function(B,Z){var I,W=0,et=null,b=0;for(I=0;I<Z.length;I++)b+=Z[I].length;switch(B){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(et=new Uint8Array(b),I=0;I<Z.length;I++)et.set(Z[I],W),W+=Z[I].length;return et;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+B+"'")}}(E,v),V);m(H)}catch(B){c(B)}v=[]}).resume()})}(this,_)},on:function(_,a){var m=this;return this._worker.on(_,"data"===_?function(c){a.call(m,c.data,c.meta)}:function(){p.delay(a,arguments,m)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(p.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:"nodebuffer"!==this._outputType},_)}},P.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,P,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var p=new ArrayBuffer(0);try{r.blob=0===new Blob([p],{type:"application/zip"}).size}catch(l){try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(p),r.blob=0===h.getBlob("application/zip").size}catch(f){r.blob=!1}}}try{r.nodestream=!!A("readable-stream").Readable}catch(l){r.nodestream=!1}},{"readable-stream":16}],31:[function(A,P,r){"use strict";for(var p=A("./utils"),h=A("./support"),l=A("./nodejsUtils"),f=A("./stream/GenericWorker"),k=new Array(256),D=0;D<256;D++)k[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function y(){f.call(this,"utf-8 decode"),this.leftOver=null}function C(){f.call(this,"utf-8 encode")}k[254]=k[254]=1,r.utf8encode=function(u){return h.nodebuffer?l.newBufferFrom(u,"utf-8"):function(_){var a,m,c,v,E,O=_.length,V=0;for(v=0;v<O;v++)55296==(64512&(m=_.charCodeAt(v)))&&v+1<O&&56320==(64512&(c=_.charCodeAt(v+1)))&&(m=65536+(m-55296<<10)+(c-56320),v++),V+=m<128?1:m<2048?2:m<65536?3:4;for(a=h.uint8array?new Uint8Array(V):new Array(V),v=E=0;E<V;v++)55296==(64512&(m=_.charCodeAt(v)))&&v+1<O&&56320==(64512&(c=_.charCodeAt(v+1)))&&(m=65536+(m-55296<<10)+(c-56320),v++),m<128?a[E++]=m:(m<2048?a[E++]=192|m>>>6:(m<65536?a[E++]=224|m>>>12:(a[E++]=240|m>>>18,a[E++]=128|m>>>12&63),a[E++]=128|m>>>6&63),a[E++]=128|63&m);return a}(u)},r.utf8decode=function(u){return h.nodebuffer?p.transformTo("nodebuffer",u).toString("utf-8"):function(_){var a,m,c,v,E=_.length,O=new Array(2*E);for(a=m=0;a<E;)if((c=_[a++])<128)O[m++]=c;else if(4<(v=k[c]))O[m++]=65533,a+=v-1;else{for(c&=2===v?31:3===v?15:7;1<v&&a<E;)c=c<<6|63&_[a++],v--;1<v?O[m++]=65533:c<65536?O[m++]=c:(O[m++]=55296|(c-=65536)>>10&1023,O[m++]=56320|1023&c)}return O.length!==m&&(O.subarray?O=O.subarray(0,m):O.length=m),p.applyFromCharCode(O)}(u=p.transformTo(h.uint8array?"uint8array":"array",u))},p.inherits(y,f),y.prototype.processChunk=function(u){var _=p.transformTo(h.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var a=_;(_=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),_.set(a,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var m=function(v,E){var O;for((E=E||v.length)>v.length&&(E=v.length),O=E-1;0<=O&&128==(192&v[O]);)O--;return O<0||0===O?E:O+k[v[O]]>E?O:E}(_),c=_;m!==_.length&&(h.uint8array?(c=_.subarray(0,m),this.leftOver=_.subarray(m,_.length)):(c=_.slice(0,m),this.leftOver=_.slice(m,_.length))),this.push({data:r.utf8decode(c),meta:u.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=y,p.inherits(C,f),C.prototype.processChunk=function(u){this.push({data:r.utf8encode(u.data),meta:u.meta})},r.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,P,r){"use strict";var p=A("./support"),h=A("./base64"),l=A("./nodejsUtils"),f=A("./external");function k(a){return a}function D(a,m){for(var c=0;c<a.length;++c)m[c]=255&a.charCodeAt(c);return m}A("setimmediate"),r.newBlob=function(a,m){r.checkSupport("blob");try{return new Blob([a],{type:m})}catch(v){try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(a),c.getBlob(m)}catch(E){throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(a,m,c){var v=[],E=0,O=a.length;if(O<=c)return String.fromCharCode.apply(null,a);for(;E<O;)v.push(String.fromCharCode.apply(null,"array"===m||"nodebuffer"===m?a.slice(E,Math.min(E+c,O)):a.subarray(E,Math.min(E+c,O)))),E+=c;return v.join("")},stringifyByChar:function(a){for(var m="",c=0;c<a.length;c++)m+=String.fromCharCode(a[c]);return m},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(a){return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(a){return!1}}()}};function C(a){var m=65536,c=r.getTypeOf(a),v=!0;if("uint8array"===c?v=y.applyCanBeUsed.uint8array:"nodebuffer"===c&&(v=y.applyCanBeUsed.nodebuffer),v)for(;1<m;)try{return y.stringifyByChunk(a,c,m)}catch(E){m=Math.floor(m/2)}return y.stringifyByChar(a)}function u(a,m){for(var c=0;c<a.length;c++)m[c]=a[c];return m}r.applyFromCharCode=C;var _={};_.string={string:k,array:function(a){return D(a,new Array(a.length))},arraybuffer:function(a){return _.string.uint8array(a).buffer},uint8array:function(a){return D(a,new Uint8Array(a.length))},nodebuffer:function(a){return D(a,l.allocBuffer(a.length))}},_.array={string:C,array:k,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return l.newBufferFrom(a)}},_.arraybuffer={string:function(a){return C(new Uint8Array(a))},array:function(a){return u(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:k,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return l.newBufferFrom(new Uint8Array(a))}},_.uint8array={string:C,array:function(a){return u(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:k,nodebuffer:function(a){return l.newBufferFrom(a)}},_.nodebuffer={string:C,array:function(a){return u(a,new Array(a.length))},arraybuffer:function(a){return _.nodebuffer.uint8array(a).buffer},uint8array:function(a){return u(a,new Uint8Array(a.length))},nodebuffer:k},r.transformTo=function(a,m){if(m=m||"",!a)return m;r.checkSupport(a);var c=r.getTypeOf(m);return _[c][a](m)},r.resolve=function(a){for(var m=a.split("/"),c=[],v=0;v<m.length;v++){var E=m[v];"."===E||""===E&&0!==v&&v!==m.length-1||(".."===E?c.pop():c.push(E))}return c.join("/")},r.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":p.nodebuffer&&l.isBuffer(a)?"nodebuffer":p.uint8array&&a instanceof Uint8Array?"uint8array":p.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(a){if(!p[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(a){var m,c,v="";for(c=0;c<(a||"").length;c++)v+="\\x"+((m=a.charCodeAt(c))<16?"0":"")+m.toString(16).toUpperCase();return v},r.delay=function(a,m,c){setImmediate(function(){a.apply(c||null,m||[])})},r.inherits=function(a,m){function c(){}c.prototype=m.prototype,a.prototype=new c},r.extend=function(){var a,m,c={};for(a=0;a<arguments.length;a++)for(m in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],m)&&void 0===c[m]&&(c[m]=arguments[a][m]);return c},r.prepareContent=function(a,m,c,v,E){return f.Promise.resolve(m).then(function(O){return p.blob&&(O instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O)))&&"undefined"!=typeof FileReader?new f.Promise(function(V,H){var B=new FileReader;B.onload=function(Z){V(Z.target.result)},B.onerror=function(Z){H(Z.target.error)},B.readAsArrayBuffer(O)}):O}).then(function(O){var H,V=r.getTypeOf(O);return V?("arraybuffer"===V?O=r.transformTo("uint8array",O):"string"===V&&(E?O=h.decode(O):c&&!0!==v&&(O=D(H=O,p.uint8array?new Uint8Array(H.length):new Array(H.length)))),O):f.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(A,P,r){"use strict";var p=A("./reader/readerFor"),h=A("./utils"),l=A("./signature"),f=A("./zipEntry"),k=A("./support");function D(y){this.files=[],this.loadOptions=y}D.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var C=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(C)+", expected "+h.pretty(y)+")")}},isSignature:function(y,C){var u=this.reader.index;this.reader.setIndex(y);var _=this.reader.readString(4)===C;return this.reader.setIndex(u),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),u=h.transformTo(k.uint8array?"uint8array":"array",y);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,C,u,_=this.zip64EndOfCentralSize-44;0<_;)y=this.reader.readInt(2),C=this.reader.readInt(4),u=this.reader.readData(C),this.zip64ExtensibleData[y]={id:y,length:C,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,C;for(y=0;y<this.files.length;y++)this.reader.setIndex((C=this.files[y]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),C.readLocalPart(this.reader),C.handleUTF8(),C.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(y=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var C=y;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var _=C-u;if(0<_)this.isSignature(C,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(y){this.reader=p(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},P.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(A,P,r){"use strict";var p=A("./reader/readerFor"),h=A("./utils"),l=A("./compressedObject"),f=A("./crc32"),k=A("./utf8"),D=A("./compressions"),y=A("./support");function C(u,_){this.options=u,this.loadOptions=_}C.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(u){var _,a;if(u.skip(22),this.fileNameLength=u.readInt(2),a=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(a),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(_=function(m){for(var c in D)if(Object.prototype.hasOwnProperty.call(D,c)&&D[c].magic===m)return D[c];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var _=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(_),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==u&&(this.dosPermissions=63&this.externalFileAttributes),3==u&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=p(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var _,a,m,c=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<c;)_=u.readInt(2),a=u.readInt(2),m=u.readData(a),this.extraFields[_]={id:_,length:a,value:m};u.setIndex(c)},handleUTF8:function(){var u=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(null!==_)this.fileNameStr=_;else{var a=h.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var m=this.findExtraFieldUnicodeComment();if(null!==m)this.fileCommentStr=m;else{var c=h.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var _=p(u.value);return 1!==_.readInt(1)||f(this.fileName)!==_.readInt(4)?null:k.utf8decode(_.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var _=p(u.value);return 1!==_.readInt(1)||f(this.fileComment)!==_.readInt(4)?null:k.utf8decode(_.readData(u.length-5))}return null}},P.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,P,r){"use strict";function p(_,a,m){this.name=_,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=a,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var h=A("./stream/StreamHelper"),l=A("./stream/DataWorker"),f=A("./utf8"),k=A("./compressedObject"),D=A("./stream/GenericWorker");p.prototype={internalStream:function(_){var a=null,m="string";try{if(!_)throw new Error("No output type specified.");var c="string"===(m=_.toLowerCase())||"text"===m;"binarystring"!==m&&"text"!==m||(m="string"),a=this._decompressWorker();var v=!this._dataBinary;v&&!c&&(a=a.pipe(new f.Utf8EncodeWorker)),!v&&c&&(a=a.pipe(new f.Utf8DecodeWorker))}catch(E){(a=new D("error")).error(E)}return new h(a,m,"")},async:function(_,a){return this.internalStream(_).accumulate(a)},nodeStream:function(_,a){return this.internalStream(_||"nodebuffer").toNodejsStream(a)},_compressWorker:function(_,a){if(this._data instanceof k&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new f.Utf8EncodeWorker)),k.createWorkerFrom(m,_,a)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof D?this._data:new l(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<y.length;u++)p.prototype[y[u]]=C;P.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,P,r){(function(p){"use strict";var h,l,f=p.MutationObserver||p.WebKitMutationObserver;if(f){var k=0,D=new f(_),y=p.document.createTextNode("");D.observe(y,{characterData:!0}),h=function(){y.data=k=++k%2}}else if(p.setImmediate||void 0===p.MessageChannel)h="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var a=p.document.createElement("script");a.onreadystatechange=function(){_(),a.onreadystatechange=null,a.parentNode.removeChild(a),a=null},p.document.documentElement.appendChild(a)}:function(){setTimeout(_,0)};else{var C=new p.MessageChannel;C.port1.onmessage=_,h=function(){C.port2.postMessage(0)}}var u=[];function _(){var a,m;l=!0;for(var c=u.length;c;){for(m=u,u=[],a=-1;++a<c;)m[a]();c=u.length}l=!1}P.exports=function(a){1!==u.push(a)||l||h()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(A,P,r){"use strict";var p=A("immediate");function h(){}var l={},f=["REJECTED"],k=["FULFILLED"],D=["PENDING"];function y(c){if("function"!=typeof c)throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,c!==h&&a(this,c)}function C(c,v,E){this.promise=c,"function"==typeof v&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),"function"==typeof E&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function u(c,v,E){p(function(){var O;try{O=v(E)}catch(V){return l.reject(c,V)}O===c?l.reject(c,new TypeError("Cannot resolve promise with itself")):l.resolve(c,O)})}function _(c){var v=c&&c.then;if(c&&("object"==typeof c||"function"==typeof c)&&"function"==typeof v)return function(){v.apply(c,arguments)}}function a(c,v){var E=!1;function O(B){E||(E=!0,l.reject(c,B))}function V(B){E||(E=!0,l.resolve(c,B))}var H=m(function(){v(V,O)});"error"===H.status&&O(H.value)}function m(c,v){var E={};try{E.value=c(v),E.status="success"}catch(O){E.status="error",E.value=O}return E}(P.exports=y).prototype.finally=function(c){if("function"!=typeof c)return this;var v=this.constructor;return this.then(function(E){return v.resolve(c()).then(function(){return E})},function(E){return v.resolve(c()).then(function(){throw E})})},y.prototype.catch=function(c){return this.then(null,c)},y.prototype.then=function(c,v){if("function"!=typeof c&&this.state===k||"function"!=typeof v&&this.state===f)return this;var E=new this.constructor(h);return this.state!==D?u(E,this.state===k?c:v,this.outcome):this.queue.push(new C(E,c,v)),E},C.prototype.callFulfilled=function(c){l.resolve(this.promise,c)},C.prototype.otherCallFulfilled=function(c){u(this.promise,this.onFulfilled,c)},C.prototype.callRejected=function(c){l.reject(this.promise,c)},C.prototype.otherCallRejected=function(c){u(this.promise,this.onRejected,c)},l.resolve=function(c,v){var E=m(_,v);if("error"===E.status)return l.reject(c,E.value);var O=E.value;if(O)a(c,O);else{c.state=k,c.outcome=v;for(var V=-1,H=c.queue.length;++V<H;)c.queue[V].callFulfilled(v)}return c},l.reject=function(c,v){c.state=f,c.outcome=v;for(var E=-1,O=c.queue.length;++E<O;)c.queue[E].callRejected(v);return c},y.resolve=function(c){return c instanceof this?c:l.resolve(new this(h),c)},y.reject=function(c){var v=new this(h);return l.reject(v,c)},y.all=function(c){var v=this;if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var E=c.length,O=!1;if(!E)return this.resolve([]);for(var V=new Array(E),H=0,B=-1,Z=new this(h);++B<E;)I(c[B],B);return Z;function I(W,et){v.resolve(W).then(function(b){V[et]=b,++H!==E||O||(O=!0,l.resolve(Z,V))},function(b){O||(O=!0,l.reject(Z,b))})}},y.race=function(c){if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var E=c.length,O=!1;if(!E)return this.resolve([]);for(var V=-1,H=new this(h);++V<E;)this.resolve(c[V]).then(function(Z){O||(O=!0,l.resolve(H,Z))},function(Z){O||(O=!0,l.reject(H,Z))});return H}},{immediate:36}],38:[function(A,P,r){"use strict";var p={};(0,A("./lib/utils/common").assign)(p,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),P.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,P,r){"use strict";var p=A("./zlib/deflate"),h=A("./utils/common"),l=A("./utils/strings"),f=A("./zlib/messages"),k=A("./zlib/zstream"),D=Object.prototype.toString;function a(c){if(!(this instanceof a))return new a(c);this.options=h.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},c||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var E=p.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(0!==E)throw new Error(f[E]);if(v.header&&p.deflateSetHeader(this.strm,v.header),v.dictionary){var O;if(O="string"==typeof v.dictionary?l.string2buf(v.dictionary):"[object ArrayBuffer]"===D.call(v.dictionary)?new Uint8Array(v.dictionary):v.dictionary,0!==(E=p.deflateSetDictionary(this.strm,O)))throw new Error(f[E]);this._dict_set=!0}}function m(c,v){var E=new a(v);if(E.push(c,!0),E.err)throw E.msg||f[E.err];return E.result}a.prototype.push=function(c,v){var E,O,V=this.strm,H=this.options.chunkSize;if(this.ended)return!1;O=v===~~v?v:!0===v?4:0,V.input="string"==typeof c?l.string2buf(c):"[object ArrayBuffer]"===D.call(c)?new Uint8Array(c):c,V.next_in=0,V.avail_in=V.input.length;do{if(0===V.avail_out&&(V.output=new h.Buf8(H),V.next_out=0,V.avail_out=H),1!==(E=p.deflate(V,O))&&0!==E)return this.onEnd(E),!(this.ended=!0);0!==V.avail_out&&(0!==V.avail_in||4!==O&&2!==O)||this.onData("string"===this.options.to?l.buf2binstring(h.shrinkBuf(V.output,V.next_out)):h.shrinkBuf(V.output,V.next_out))}while((0<V.avail_in||0===V.avail_out)&&1!==E);return 4===O?(E=p.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,0===E):2!==O||(this.onEnd(0),!(V.avail_out=0))},a.prototype.onData=function(c){this.chunks.push(c)},a.prototype.onEnd=function(c){0===c&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},r.Deflate=a,r.deflate=m,r.deflateRaw=function(c,v){return(v=v||{}).raw=!0,m(c,v)},r.gzip=function(c,v){return(v=v||{}).gzip=!0,m(c,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,P,r){"use strict";var p=A("./zlib/inflate"),h=A("./utils/common"),l=A("./utils/strings"),f=A("./zlib/constants"),k=A("./zlib/messages"),D=A("./zlib/zstream"),y=A("./zlib/gzheader"),C=Object.prototype.toString;function u(a){if(!(this instanceof u))return new u(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,0===m.windowBits&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||a&&a.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&0==(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var c=p.inflateInit2(this.strm,m.windowBits);if(c!==f.Z_OK)throw new Error(k[c]);this.header=new y,p.inflateGetHeader(this.strm,this.header)}function _(a,m){var c=new u(m);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}u.prototype.push=function(a,m){var c,v,E,O,V,H,B=this.strm,Z=this.options.chunkSize,I=this.options.dictionary,W=!1;if(this.ended)return!1;v=m===~~m?m:!0===m?f.Z_FINISH:f.Z_NO_FLUSH,B.input="string"==typeof a?l.binstring2buf(a):"[object ArrayBuffer]"===C.call(a)?new Uint8Array(a):a,B.next_in=0,B.avail_in=B.input.length;do{if(0===B.avail_out&&(B.output=new h.Buf8(Z),B.next_out=0,B.avail_out=Z),(c=p.inflate(B,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&I&&(H="string"==typeof I?l.string2buf(I):"[object ArrayBuffer]"===C.call(I)?new Uint8Array(I):I,c=p.inflateSetDictionary(this.strm,H)),c===f.Z_BUF_ERROR&&!0===W&&(c=f.Z_OK,W=!1),c!==f.Z_STREAM_END&&c!==f.Z_OK)return this.onEnd(c),!(this.ended=!0);B.next_out&&(0!==B.avail_out&&c!==f.Z_STREAM_END&&(0!==B.avail_in||v!==f.Z_FINISH&&v!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(E=l.utf8border(B.output,B.next_out),O=B.next_out-E,V=l.buf2string(B.output,E),B.next_out=O,B.avail_out=Z-O,O&&h.arraySet(B.output,B.output,E,O,0),this.onData(V)):this.onData(h.shrinkBuf(B.output,B.next_out)))),0===B.avail_in&&0===B.avail_out&&(W=!0)}while((0<B.avail_in||0===B.avail_out)&&c!==f.Z_STREAM_END);return c===f.Z_STREAM_END&&(v=f.Z_FINISH),v===f.Z_FINISH?(c=p.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===f.Z_OK):v!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(B.avail_out=0))},u.prototype.onData=function(a){this.chunks.push(a)},u.prototype.onEnd=function(a){a===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},r.Inflate=u,r.inflate=_,r.inflateRaw=function(a,m){return(m=m||{}).raw=!0,_(a,m)},r.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,P,r){"use strict";var p="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(f){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var D=k.shift();if(D){if("object"!=typeof D)throw new TypeError(D+"must be non-object");for(var y in D)D.hasOwnProperty(y)&&(f[y]=D[y])}}return f},r.shrinkBuf=function(f,k){return f.length===k?f:f.subarray?f.subarray(0,k):(f.length=k,f)};var h={arraySet:function(f,k,D,y,C){if(k.subarray&&f.subarray)f.set(k.subarray(D,D+y),C);else for(var u=0;u<y;u++)f[C+u]=k[D+u]},flattenChunks:function(f){var k,D,y,C,u,_;for(k=y=0,D=f.length;k<D;k++)y+=f[k].length;for(_=new Uint8Array(y),k=C=0,D=f.length;k<D;k++)_.set(u=f[k],C),C+=u.length;return _}},l={arraySet:function(f,k,D,y,C){for(var u=0;u<y;u++)f[C+u]=k[D+u]},flattenChunks:function(f){return[].concat.apply([],f)}};r.setTyped=function(f){f?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,h)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(p)},{}],42:[function(A,P,r){"use strict";var p=A("./common"),h=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(y){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(y){l=!1}for(var f=new p.Buf8(256),k=0;k<256;k++)f[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function D(y,C){if(C<65537&&(y.subarray&&l||!y.subarray&&h))return String.fromCharCode.apply(null,p.shrinkBuf(y,C));for(var u="",_=0;_<C;_++)u+=String.fromCharCode(y[_]);return u}f[254]=f[254]=1,r.string2buf=function(y){var C,u,_,a,m,c=y.length,v=0;for(a=0;a<c;a++)55296==(64512&(u=y.charCodeAt(a)))&&a+1<c&&56320==(64512&(_=y.charCodeAt(a+1)))&&(u=65536+(u-55296<<10)+(_-56320),a++),v+=u<128?1:u<2048?2:u<65536?3:4;for(C=new p.Buf8(v),a=m=0;m<v;a++)55296==(64512&(u=y.charCodeAt(a)))&&a+1<c&&56320==(64512&(_=y.charCodeAt(a+1)))&&(u=65536+(u-55296<<10)+(_-56320),a++),u<128?C[m++]=u:(u<2048?C[m++]=192|u>>>6:(u<65536?C[m++]=224|u>>>12:(C[m++]=240|u>>>18,C[m++]=128|u>>>12&63),C[m++]=128|u>>>6&63),C[m++]=128|63&u);return C},r.buf2binstring=function(y){return D(y,y.length)},r.binstring2buf=function(y){for(var C=new p.Buf8(y.length),u=0,_=C.length;u<_;u++)C[u]=y.charCodeAt(u);return C},r.buf2string=function(y,C){var u,_,a,m,c=C||y.length,v=new Array(2*c);for(u=_=0;u<c;)if((a=y[u++])<128)v[_++]=a;else if(4<(m=f[a]))v[_++]=65533,u+=m-1;else{for(a&=2===m?31:3===m?15:7;1<m&&u<c;)a=a<<6|63&y[u++],m--;1<m?v[_++]=65533:a<65536?v[_++]=a:(v[_++]=55296|(a-=65536)>>10&1023,v[_++]=56320|1023&a)}return D(v,_)},r.utf8border=function(y,C){var u;for((C=C||y.length)>y.length&&(C=y.length),u=C-1;0<=u&&128==(192&y[u]);)u--;return u<0||0===u?C:u+f[y[u]]>C?u:C}},{"./common":41}],43:[function(A,P,r){"use strict";P.exports=function(p,h,l,f){for(var k=65535&p|0,D=p>>>16&65535|0,y=0;0!==l;){for(l-=y=2e3<l?2e3:l;D=D+(k=k+h[f++]|0)|0,--y;);k%=65521,D%=65521}return k|D<<16|0}},{}],44:[function(A,P,r){"use strict";P.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,P,r){"use strict";var p=function(){for(var h,l=[],f=0;f<256;f++){h=f;for(var k=0;k<8;k++)h=1&h?3988292384^h>>>1:h>>>1;l[f]=h}return l}();P.exports=function(h,l,f,k){var D=p,y=k+f;h^=-1;for(var C=k;C<y;C++)h=h>>>8^D[255&(h^l[C])];return-1^h}},{}],46:[function(A,P,r){"use strict";var p,h=A("../utils/common"),l=A("./trees"),f=A("./adler32"),k=A("./crc32"),D=A("./messages"),_=-2,W=258,et=262,T=113;function st(i,z){return i.msg=D[z],z}function q(i){return(i<<1)-(4<i?9:0)}function nt(i){for(var z=i.length;0<=--z;)i[z]=0}function F(i){var z=i.state,N=z.pending;N>i.avail_out&&(N=i.avail_out),0!==N&&(h.arraySet(i.output,z.pending_buf,z.pending_out,N,i.next_out),i.next_out+=N,z.pending_out+=N,i.total_out+=N,i.avail_out-=N,z.pending-=N,0===z.pending&&(z.pending_out=0))}function S(i,z){l._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,z),i.block_start=i.strstart,F(i.strm)}function tt(i,z){i.pending_buf[i.pending++]=z}function K(i,z){i.pending_buf[i.pending++]=z>>>8&255,i.pending_buf[i.pending++]=255&z}function J(i,z){var N,g,d=i.max_chain_length,x=i.strstart,G=i.prev_length,R=i.nice_match,M=i.strstart>i.w_size-et?i.strstart-(i.w_size-et):0,Y=i.window,X=i.w_mask,$=i.prev,Q=i.strstart+W,ht=Y[x+G-1],at=Y[x+G];i.prev_length>=i.good_match&&(d>>=2),R>i.lookahead&&(R=i.lookahead);do{if(Y[(N=z)+G]===at&&Y[N+G-1]===ht&&Y[N]===Y[x]&&Y[++N]===Y[x+1]){x+=2,N++;do{}while(Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&Y[++x]===Y[++N]&&x<Q);if(g=W-(Q-x),x=Q-W,G<g){if(i.match_start=z,R<=(G=g))break;ht=Y[x+G-1],at=Y[x+G]}}}while((z=$[z&X])>M&&0!=--d);return G<=i.lookahead?G:i.lookahead}function gt(i){var z,N,g,d,x,G,R,M,Y,X,$=i.w_size;do{if(d=i.window_size-i.lookahead-i.strstart,i.strstart>=$+($-et)){for(h.arraySet(i.window,i.window,$,$,0),i.match_start-=$,i.strstart-=$,i.block_start-=$,z=N=i.hash_size;g=i.head[--z],i.head[z]=$<=g?g-$:0,--N;);for(z=N=$;g=i.prev[--z],i.prev[z]=$<=g?g-$:0,--N;);d+=$}if(0===i.strm.avail_in)break;if(R=i.window,M=i.strstart+i.lookahead,X=void 0,(Y=d)<(X=(G=i.strm).avail_in)&&(X=Y),N=0===X?0:(G.avail_in-=X,h.arraySet(R,G.input,G.next_in,X,M),1===G.state.wrap?G.adler=f(G.adler,R,X,M):2===G.state.wrap&&(G.adler=k(G.adler,R,X,M)),G.next_in+=X,G.total_in+=X,X),i.lookahead+=N,i.lookahead+i.insert>=3)for(i.ins_h=i.window[x=i.strstart-i.insert],i.ins_h=(i.ins_h<<i.hash_shift^i.window[x+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[x+3-1])&i.hash_mask,i.prev[x&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=x,x++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<et&&0!==i.strm.avail_in)}function bt(i,z){for(var N,g;;){if(i.lookahead<et){if(gt(i),i.lookahead<et&&0===z)return 1;if(0===i.lookahead)break}if(N=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,N=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!==N&&i.strstart-N<=i.w_size-et&&(i.match_length=J(i,N)),i.match_length>=3)if(g=l._tr_tally(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,N=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,0!=--i.match_length;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else g=l._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(g&&(S(i,!1),0===i.strm.avail_out))return 1}return i.insert=i.strstart<2?i.strstart:2,4===z?(S(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(S(i,!1),0===i.strm.avail_out)?1:2}function lt(i,z){for(var N,g,d;;){if(i.lookahead<et){if(gt(i),i.lookahead<et&&0===z)return 1;if(0===i.lookahead)break}if(N=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,N=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,0!==N&&i.prev_length<i.max_lazy_match&&i.strstart-N<=i.w_size-et&&(i.match_length=J(i,N),i.match_length<=5&&(1===i.strategy||3===i.match_length&&4096<i.strstart-i.match_start)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){for(d=i.strstart+i.lookahead-3,g=l._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=d&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,N=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!=--i.prev_length;);if(i.match_available=0,i.match_length=2,i.strstart++,g&&(S(i,!1),0===i.strm.avail_out))return 1}else if(i.match_available){if((g=l._tr_tally(i,0,i.window[i.strstart-1]))&&S(i,!1),i.strstart++,i.lookahead--,0===i.strm.avail_out)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(g=l._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,4===z?(S(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(S(i,!1),0===i.strm.avail_out)?1:2}function ut(i,z,N,g,d){this.good_length=i,this.max_lazy=z,this.nice_length=N,this.max_chain=g,this.func=d}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(1146),this.dyn_dtree=new h.Buf16(122),this.bl_tree=new h.Buf16(78),nt(this.dyn_ltree),nt(this.dyn_dtree),nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(16),this.heap=new h.Buf16(573),nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(573),nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(i){var z;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=2,(z=i.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?42:T,i.adler=2===z.wrap?0:1,z.last_flush=0,l._tr_init(z),0):st(i,_)}function At(i){var N,z=pt(i);return 0===z&&((N=i.state).window_size=2*N.w_size,nt(N.head),N.max_lazy_match=p[N.level].max_lazy,N.good_match=p[N.level].good_length,N.nice_match=p[N.level].nice_length,N.max_chain_length=p[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=2,N.match_available=0,N.ins_h=0),z}function Ct(i,z,N,g,d,x){if(!i)return _;var G=1;if(-1===z&&(z=6),g<0?(G=0,g=-g):15<g&&(G=2,g-=16),d<1||9<d||8!==N||g<8||15<g||z<0||9<z||x<0||4<x)return st(i,_);8===g&&(g=9);var R=new vt;return(i.state=R).strm=i,R.wrap=G,R.gzhead=null,R.w_bits=g,R.w_size=1<<R.w_bits,R.w_mask=R.w_size-1,R.hash_bits=d+7,R.hash_size=1<<R.hash_bits,R.hash_mask=R.hash_size-1,R.hash_shift=~~((R.hash_bits+3-1)/3),R.window=new h.Buf8(2*R.w_size),R.head=new h.Buf16(R.hash_size),R.prev=new h.Buf16(R.w_size),R.lit_bufsize=1<<d+6,R.pending_buf_size=4*R.lit_bufsize,R.pending_buf=new h.Buf8(R.pending_buf_size),R.d_buf=1*R.lit_bufsize,R.l_buf=3*R.lit_bufsize,R.level=z,R.strategy=x,R.method=N,At(i)}p=[new ut(0,0,0,0,function(i,z){var N=65535;for(N>i.pending_buf_size-5&&(N=i.pending_buf_size-5);;){if(i.lookahead<=1){if(gt(i),0===i.lookahead&&0===z)return 1;if(0===i.lookahead)break}i.strstart+=i.lookahead,i.lookahead=0;var g=i.block_start+N;if((0===i.strstart||i.strstart>=g)&&(i.lookahead=i.strstart-g,i.strstart=g,S(i,!1),0===i.strm.avail_out)||i.strstart-i.block_start>=i.w_size-et&&(S(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,4===z?(S(i,!0),0===i.strm.avail_out?3:4):(i.strstart>i.block_start&&S(i,!1),1)}),new ut(4,4,8,4,bt),new ut(4,5,16,8,bt),new ut(4,6,32,32,bt),new ut(4,4,16,16,lt),new ut(8,16,32,32,lt),new ut(8,16,128,128,lt),new ut(8,32,128,256,lt),new ut(32,128,258,1024,lt),new ut(32,258,258,4096,lt)],r.deflateInit=function(i,z){return Ct(i,z,8,15,8,0)},r.deflateInit2=Ct,r.deflateReset=At,r.deflateResetKeep=pt,r.deflateSetHeader=function(i,z){return i&&i.state?2!==i.state.wrap?_:(i.state.gzhead=z,0):_},r.deflate=function(i,z){var N,g,d,x;if(!i||!i.state||5<z||z<0)return i?st(i,_):_;if(g=i.state,!i.output||!i.input&&0!==i.avail_in||666===g.status&&4!==z)return st(i,0===i.avail_out?-5:_);if(g.strm=i,N=g.last_flush,g.last_flush=z,42===g.status)if(2===g.wrap)i.adler=0,tt(g,31),tt(g,139),tt(g,8),g.gzhead?(tt(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),tt(g,255&g.gzhead.time),tt(g,g.gzhead.time>>8&255),tt(g,g.gzhead.time>>16&255),tt(g,g.gzhead.time>>24&255),tt(g,9===g.level?2:2<=g.strategy||g.level<2?4:0),tt(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(tt(g,255&g.gzhead.extra.length),tt(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(i.adler=k(i.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(tt(g,0),tt(g,0),tt(g,0),tt(g,0),tt(g,0),tt(g,9===g.level?2:2<=g.strategy||g.level<2?4:0),tt(g,3),g.status=T);else{var G=8+(g.w_bits-8<<4)<<8;G|=(2<=g.strategy||g.level<2?0:g.level<6?1:6===g.level?2:3)<<6,0!==g.strstart&&(G|=32),G+=31-G%31,g.status=T,K(g,G),0!==g.strstart&&(K(g,i.adler>>>16),K(g,65535&i.adler)),i.adler=1}if(69===g.status)if(g.gzhead.extra){for(d=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),F(i),d=g.pending,g.pending!==g.pending_buf_size));)tt(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(73===g.status)if(g.gzhead.name){d=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),F(i),d=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,tt(g,x)}while(0!==x);g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),0===x&&(g.gzindex=0,g.status=91)}else g.status=91;if(91===g.status)if(g.gzhead.comment){d=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),F(i),d=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,tt(g,x)}while(0!==x);g.gzhead.hcrc&&g.pending>d&&(i.adler=k(i.adler,g.pending_buf,g.pending-d,d)),0===x&&(g.status=103)}else g.status=103;if(103===g.status&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&F(i),g.pending+2<=g.pending_buf_size&&(tt(g,255&i.adler),tt(g,i.adler>>8&255),i.adler=0,g.status=T)):g.status=T),0!==g.pending){if(F(i),0===i.avail_out)return g.last_flush=-1,0}else if(0===i.avail_in&&q(z)<=q(N)&&4!==z)return st(i,-5);if(666===g.status&&0!==i.avail_in)return st(i,-5);if(0!==i.avail_in||0!==g.lookahead||0!==z&&666!==g.status){var R=2===g.strategy?function(M,Y){for(var X;;){if(0===M.lookahead&&(gt(M),0===M.lookahead)){if(0===Y)return 1;break}if(M.match_length=0,X=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,X&&(S(M,!1),0===M.strm.avail_out))return 1}return M.insert=0,4===Y?(S(M,!0),0===M.strm.avail_out?3:4):M.last_lit&&(S(M,!1),0===M.strm.avail_out)?1:2}(g,z):3===g.strategy?function(M,Y){for(var X,$,Q,ht,at=M.window;;){if(M.lookahead<=W){if(gt(M),M.lookahead<=W&&0===Y)return 1;if(0===M.lookahead)break}if(M.match_length=0,M.lookahead>=3&&0<M.strstart&&($=at[Q=M.strstart-1])===at[++Q]&&$===at[++Q]&&$===at[++Q]){ht=M.strstart+W;do{}while($===at[++Q]&&$===at[++Q]&&$===at[++Q]&&$===at[++Q]&&$===at[++Q]&&$===at[++Q]&&$===at[++Q]&&$===at[++Q]&&Q<ht);M.match_length=W-(ht-Q),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=3?(X=l._tr_tally(M,1,M.match_length-3),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(X=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),X&&(S(M,!1),0===M.strm.avail_out))return 1}return M.insert=0,4===Y?(S(M,!0),0===M.strm.avail_out?3:4):M.last_lit&&(S(M,!1),0===M.strm.avail_out)?1:2}(g,z):p[g.level].func(g,z);if(3!==R&&4!==R||(g.status=666),1===R||3===R)return 0===i.avail_out&&(g.last_flush=-1),0;if(2===R&&(1===z?l._tr_align(g):5!==z&&(l._tr_stored_block(g,0,0,!1),3===z&&(nt(g.head),0===g.lookahead&&(g.strstart=0,g.block_start=0,g.insert=0))),F(i),0===i.avail_out))return g.last_flush=-1,0}return 4!==z?0:g.wrap<=0?1:(2===g.wrap?(tt(g,255&i.adler),tt(g,i.adler>>8&255),tt(g,i.adler>>16&255),tt(g,i.adler>>24&255),tt(g,255&i.total_in),tt(g,i.total_in>>8&255),tt(g,i.total_in>>16&255),tt(g,i.total_in>>24&255)):(K(g,i.adler>>>16),K(g,65535&i.adler)),F(i),0<g.wrap&&(g.wrap=-g.wrap),0!==g.pending?0:1)},r.deflateEnd=function(i){var z;return i&&i.state?42!==(z=i.state.status)&&69!==z&&73!==z&&91!==z&&103!==z&&z!==T&&666!==z?st(i,_):(i.state=null,z===T?st(i,-3):0):_},r.deflateSetDictionary=function(i,z){var N,g,d,x,G,R,M,Y,X=z.length;if(!i||!i.state||2===(x=(N=i.state).wrap)||1===x&&42!==N.status||N.lookahead)return _;for(1===x&&(i.adler=f(i.adler,z,X,0)),N.wrap=0,X>=N.w_size&&(0===x&&(nt(N.head),N.strstart=0,N.block_start=0,N.insert=0),Y=new h.Buf8(N.w_size),h.arraySet(Y,z,X-N.w_size,N.w_size,0),z=Y,X=N.w_size),G=i.avail_in,R=i.next_in,M=i.input,i.avail_in=X,i.next_in=0,i.input=z,gt(N);N.lookahead>=3;){for(g=N.strstart,d=N.lookahead-2;N.ins_h=(N.ins_h<<N.hash_shift^N.window[g+3-1])&N.hash_mask,N.prev[g&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=g,g++,--d;);N.strstart=g,N.lookahead=2,gt(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,i.next_in=R,i.input=M,i.avail_in=G,N.wrap=x,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,P,r){"use strict";P.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,P,r){"use strict";P.exports=function(p,h){var l,f,k,D,y,C,u,_,a,m,c,v,E,O,V,H,B,Z,I,W,et,b,T,s,U;s=p.input,k=(f=p.next_in)+(p.avail_in-5),U=p.output,y=(D=p.next_out)-(h-p.avail_out),C=D+(p.avail_out-257),u=(l=p.state).dmax,_=l.wsize,a=l.whave,m=l.wnext,c=l.window,v=l.hold,E=l.bits,O=l.lencode,V=l.distcode,H=(1<<l.lenbits)-1,B=(1<<l.distbits)-1;t:do{E<15&&(v+=s[f++]<<E,v+=s[f++]<<(E+=8),E+=8),Z=O[v&H];e:for(;;){if(v>>>=I=Z>>>24,E-=I,0==(I=Z>>>16&255))U[D++]=65535&Z;else{if(!(16&I)){if(0==(64&I)){Z=O[(65535&Z)+(v&(1<<I)-1)];continue e}if(32&I){l.mode=12;break t}p.msg="invalid literal/length code",l.mode=30;break t}W=65535&Z,(I&=15)&&(E<I&&(v+=s[f++]<<E,E+=8),W+=v&(1<<I)-1,v>>>=I,E-=I),E<15&&(v+=s[f++]<<E,v+=s[f++]<<(E+=8),E+=8),Z=V[v&B];n:for(;;){if(v>>>=I=Z>>>24,E-=I,!(16&(I=Z>>>16&255))){if(0==(64&I)){Z=V[(65535&Z)+(v&(1<<I)-1)];continue n}p.msg="invalid distance code",l.mode=30;break t}if(et=65535&Z,E<(I&=15)&&(v+=s[f++]<<E,(E+=8)<I&&(v+=s[f++]<<E,E+=8)),u<(et+=v&(1<<I)-1)){p.msg="invalid distance too far back",l.mode=30;break t}if(v>>>=I,E-=I,(I=D-y)<et){if(a<(I=et-I)&&l.sane){p.msg="invalid distance too far back",l.mode=30;break t}if(T=c,(b=0)===m){if(b+=_-I,I<W){for(W-=I;U[D++]=c[b++],--I;);b=D-et,T=U}}else if(m<I){if(b+=_+m-I,(I-=m)<W){for(W-=I;U[D++]=c[b++],--I;);if(b=0,m<W){for(W-=I=m;U[D++]=c[b++],--I;);b=D-et,T=U}}}else if(b+=m-I,I<W){for(W-=I;U[D++]=c[b++],--I;);b=D-et,T=U}for(;2<W;)U[D++]=T[b++],U[D++]=T[b++],U[D++]=T[b++],W-=3;W&&(U[D++]=T[b++],1<W&&(U[D++]=T[b++]))}else{for(b=D-et;U[D++]=U[b++],U[D++]=U[b++],U[D++]=U[b++],2<(W-=3););W&&(U[D++]=U[b++],1<W&&(U[D++]=U[b++]))}break}}break}}while(f<k&&D<C);f-=W=E>>3,v&=(1<<(E-=W<<3))-1,p.next_in=f,p.next_out=D,p.avail_in=f<k?k-f+5:5-(f-k),p.avail_out=D<C?C-D+257:257-(D-C),l.hold=v,l.bits=E}},{}],49:[function(A,P,r){"use strict";var p=A("../utils/common"),h=A("./adler32"),l=A("./crc32"),f=A("./inffast"),k=A("./inftrees"),u=-2;function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(b){var T;return b&&b.state?(b.total_in=b.total_out=(T=b.state).total=0,b.msg="",T.wrap&&(b.adler=1&T.wrap),T.mode=1,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new p.Buf32(852),T.distcode=T.distdyn=new p.Buf32(592),T.sane=1,T.back=-1,0):u}function O(b){var T;return b&&b.state?((T=b.state).wsize=0,T.whave=0,T.wnext=0,E(b)):u}function V(b,T){var s,U;return b&&b.state?(U=b.state,T<0?(s=0,T=-T):(s=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?u:(null!==U.window&&U.wbits!==T&&(U.window=null),U.wrap=s,U.wbits=T,O(b))):u}function H(b,T){var s,U;return b?(U=new v,(b.state=U).window=null,0!==(s=V(b,T))&&(b.state=null),s):u}var B,Z,I=!0;function W(b){if(I){var T;for(B=new p.Buf32(512),Z=new p.Buf32(32),T=0;T<144;)b.lens[T++]=8;for(;T<256;)b.lens[T++]=9;for(;T<280;)b.lens[T++]=7;for(;T<288;)b.lens[T++]=8;for(k(1,b.lens,0,288,B,0,b.work,{bits:9}),T=0;T<32;)b.lens[T++]=5;k(2,b.lens,0,32,Z,0,b.work,{bits:5}),I=!1}b.lencode=B,b.lenbits=9,b.distcode=Z,b.distbits=5}function et(b,T,s,U){var it,L=b.state;return null===L.window&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new p.Buf8(L.wsize)),U>=L.wsize?(p.arraySet(L.window,T,s-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(U<(it=L.wsize-L.wnext)&&(it=U),p.arraySet(L.window,T,s-U,it,L.wnext),(U-=it)?(p.arraySet(L.window,T,s-U,U,0),L.wnext=U,L.whave=L.wsize):(L.wnext+=it,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=it))),0}r.inflateReset=O,r.inflateReset2=V,r.inflateResetKeep=E,r.inflateInit=function(b){return H(b,15)},r.inflateInit2=H,r.inflate=function(b,T){var s,U,it,L,st,q,nt,F,S,tt,K,J,gt,bt,lt,ut,vt,pt,At,Ct,i,z,N,g,d=0,x=new p.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return u;12===(s=b.state).mode&&(s.mode=13),st=b.next_out,it=b.output,L=b.next_in,U=b.input,F=s.hold,S=s.bits,tt=q=b.avail_in,K=nt=b.avail_out,z=0;t:for(;;)switch(s.mode){case 1:if(0===s.wrap){s.mode=13;break}for(;S<16;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(2&s.wrap&&35615===F){x[s.check=0]=255&F,x[1]=F>>>8&255,s.check=l(s.check,x,2,0),S=F=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&F)<<8)+(F>>8))%31){b.msg="incorrect header check",s.mode=30;break}if(8!=(15&F)){b.msg="unknown compression method",s.mode=30;break}if(S-=4,i=8+(15&(F>>>=4)),0===s.wbits)s.wbits=i;else if(i>s.wbits){b.msg="invalid window size",s.mode=30;break}s.dmax=1<<i,b.adler=s.check=1,s.mode=512&F?10:12,S=F=0;break;case 2:for(;S<16;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(s.flags=F,8!=(255&s.flags)){b.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){b.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=F>>8&1),512&s.flags&&(x[0]=255&F,x[1]=F>>>8&255,s.check=l(s.check,x,2,0)),S=F=0,s.mode=3;case 3:for(;S<32;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.head&&(s.head.time=F),512&s.flags&&(x[0]=255&F,x[1]=F>>>8&255,x[2]=F>>>16&255,x[3]=F>>>24&255,s.check=l(s.check,x,4,0)),S=F=0,s.mode=4;case 4:for(;S<16;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.head&&(s.head.xflags=255&F,s.head.os=F>>8),512&s.flags&&(x[0]=255&F,x[1]=F>>>8&255,s.check=l(s.check,x,2,0)),S=F=0,s.mode=5;case 5:if(1024&s.flags){for(;S<16;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.length=F,s.head&&(s.head.extra_len=F),512&s.flags&&(x[0]=255&F,x[1]=F>>>8&255,s.check=l(s.check,x,2,0)),S=F=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(q<(J=s.length)&&(J=q),J&&(s.head&&(i=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),p.arraySet(s.head.extra,U,L,J,i)),512&s.flags&&(s.check=l(s.check,U,J,L)),q-=J,L+=J,s.length-=J),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(0===q)break t;for(J=0;i=U[L+J++],s.head&&i&&s.length<65536&&(s.head.name+=String.fromCharCode(i)),i&&J<q;);if(512&s.flags&&(s.check=l(s.check,U,J,L)),q-=J,L+=J,i)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(0===q)break t;for(J=0;i=U[L+J++],s.head&&i&&s.length<65536&&(s.head.comment+=String.fromCharCode(i)),i&&J<q;);if(512&s.flags&&(s.check=l(s.check,U,J,L)),q-=J,L+=J,i)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;S<16;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(F!==(65535&s.check)){b.msg="header crc mismatch",s.mode=30;break}S=F=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),b.adler=s.check=0,s.mode=12;break;case 10:for(;S<32;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}b.adler=s.check=c(F),S=F=0,s.mode=11;case 11:if(0===s.havedict)return b.next_out=st,b.avail_out=nt,b.next_in=L,b.avail_in=q,s.hold=F,s.bits=S,2;b.adler=s.check=1,s.mode=12;case 12:if(5===T||6===T)break t;case 13:if(s.last){F>>>=7&S,S-=7&S,s.mode=27;break}for(;S<3;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}switch(s.last=1&F,S-=1,3&(F>>>=1)){case 0:s.mode=14;break;case 1:if(W(s),s.mode=20,6!==T)break;F>>>=2,S-=2;break t;case 2:s.mode=17;break;case 3:b.msg="invalid block type",s.mode=30}F>>>=2,S-=2;break;case 14:for(F>>>=7&S,S-=7&S;S<32;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if((65535&F)!=(F>>>16^65535)){b.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&F,S=F=0,s.mode=15,6===T)break t;case 15:s.mode=16;case 16:if(J=s.length){if(q<J&&(J=q),nt<J&&(J=nt),0===J)break t;p.arraySet(it,U,L,J,st),q-=J,L+=J,nt-=J,st+=J,s.length-=J;break}s.mode=12;break;case 17:for(;S<14;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(s.nlen=257+(31&F),S-=5,s.ndist=1+(31&(F>>>=5)),S-=5,s.ncode=4+(15&(F>>>=5)),F>>>=4,S-=4,286<s.nlen||30<s.ndist){b.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;S<3;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.lens[G[s.have++]]=7&F,F>>>=3,S-=3}for(;s.have<19;)s.lens[G[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,z=k(0,s.lens,0,19,s.lencode,0,s.work,N={bits:s.lenbits}),s.lenbits=N.bits,z){b.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;ut=(d=s.lencode[F&(1<<s.lenbits)-1])>>>16&255,vt=65535&d,!((lt=d>>>24)<=S);){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(vt<16)F>>>=lt,S-=lt,s.lens[s.have++]=vt;else{if(16===vt){for(g=lt+2;S<g;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(F>>>=lt,S-=lt,0===s.have){b.msg="invalid bit length repeat",s.mode=30;break}i=s.lens[s.have-1],J=3+(3&F),F>>>=2,S-=2}else if(17===vt){for(g=lt+3;S<g;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}S-=lt,i=0,J=3+(7&(F>>>=lt)),F>>>=3,S-=3}else{for(g=lt+7;S<g;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}S-=lt,i=0,J=11+(127&(F>>>=lt)),F>>>=7,S-=7}if(s.have+J>s.nlen+s.ndist){b.msg="invalid bit length repeat",s.mode=30;break}for(;J--;)s.lens[s.have++]=i}}if(30===s.mode)break;if(0===s.lens[256]){b.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,z=k(1,s.lens,0,s.nlen,s.lencode,0,s.work,N={bits:s.lenbits}),s.lenbits=N.bits,z){b.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,z=k(2,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,N={bits:s.distbits}),s.distbits=N.bits,z){b.msg="invalid distances set",s.mode=30;break}if(s.mode=20,6===T)break t;case 20:s.mode=21;case 21:if(6<=q&&258<=nt){b.next_out=st,b.avail_out=nt,b.next_in=L,b.avail_in=q,s.hold=F,s.bits=S,f(b,K),st=b.next_out,it=b.output,nt=b.avail_out,L=b.next_in,U=b.input,q=b.avail_in,F=s.hold,S=s.bits,12===s.mode&&(s.back=-1);break}for(s.back=0;ut=(d=s.lencode[F&(1<<s.lenbits)-1])>>>16&255,vt=65535&d,!((lt=d>>>24)<=S);){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(ut&&0==(240&ut)){for(pt=lt,At=ut,Ct=vt;ut=(d=s.lencode[Ct+((F&(1<<pt+At)-1)>>pt)])>>>16&255,vt=65535&d,!(pt+(lt=d>>>24)<=S);){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}F>>>=pt,S-=pt,s.back+=pt}if(F>>>=lt,S-=lt,s.back+=lt,s.length=vt,0===ut){s.mode=26;break}if(32&ut){s.back=-1,s.mode=12;break}if(64&ut){b.msg="invalid literal/length code",s.mode=30;break}s.extra=15&ut,s.mode=22;case 22:if(s.extra){for(g=s.extra;S<g;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.length+=F&(1<<s.extra)-1,F>>>=s.extra,S-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;ut=(d=s.distcode[F&(1<<s.distbits)-1])>>>16&255,vt=65535&d,!((lt=d>>>24)<=S);){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(0==(240&ut)){for(pt=lt,At=ut,Ct=vt;ut=(d=s.distcode[Ct+((F&(1<<pt+At)-1)>>pt)])>>>16&255,vt=65535&d,!(pt+(lt=d>>>24)<=S);){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}F>>>=pt,S-=pt,s.back+=pt}if(F>>>=lt,S-=lt,s.back+=lt,64&ut){b.msg="invalid distance code",s.mode=30;break}s.offset=vt,s.extra=15&ut,s.mode=24;case 24:if(s.extra){for(g=s.extra;S<g;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}s.offset+=F&(1<<s.extra)-1,F>>>=s.extra,S-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){b.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(0===nt)break t;if(s.offset>(J=K-nt)){if((J=s.offset-J)>s.whave&&s.sane){b.msg="invalid distance too far back",s.mode=30;break}gt=J>s.wnext?s.wsize-(J-=s.wnext):s.wnext-J,J>s.length&&(J=s.length),bt=s.window}else bt=it,gt=st-s.offset,J=s.length;for(nt<J&&(J=nt),nt-=J,s.length-=J;it[st++]=bt[gt++],--J;);0===s.length&&(s.mode=21);break;case 26:if(0===nt)break t;it[st++]=s.length,nt--,s.mode=21;break;case 27:if(s.wrap){for(;S<32;){if(0===q)break t;q--,F|=U[L++]<<S,S+=8}if(b.total_out+=K-=nt,s.total+=K,K&&(b.adler=s.check=s.flags?l(s.check,it,K,st-K):h(s.check,it,K,st-K)),K=nt,(s.flags?F:c(F))!==s.check){b.msg="incorrect data check",s.mode=30;break}S=F=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;S<32;){if(0===q)break t;q--,F+=U[L++]<<S,S+=8}if(F!==(4294967295&s.total)){b.msg="incorrect length check",s.mode=30;break}S=F=0}s.mode=29;case 29:z=1;break t;case 30:z=-3;break t;case 31:return-4;default:return u}return b.next_out=st,b.avail_out=nt,b.next_in=L,b.avail_in=q,s.hold=F,s.bits=S,(s.wsize||K!==b.avail_out&&s.mode<30&&(s.mode<27||4!==T))&&et(b,b.output,b.next_out,K-b.avail_out)?(s.mode=31,-4):(K-=b.avail_out,b.total_in+=tt-=b.avail_in,b.total_out+=K,s.total+=K,s.wrap&&K&&(b.adler=s.check=s.flags?l(s.check,it,K,b.next_out-K):h(s.check,it,K,b.next_out-K)),b.data_type=s.bits+(s.last?64:0)+(12===s.mode?128:0)+(20===s.mode||15===s.mode?256:0),(0==tt&&0===K||4===T)&&0===z&&(z=-5),z)},r.inflateEnd=function(b){if(!b||!b.state)return u;var T=b.state;return T.window&&(T.window=null),b.state=null,0},r.inflateGetHeader=function(b,T){var s;return b&&b.state?0==(2&(s=b.state).wrap)?u:((s.head=T).done=!1,0):u},r.inflateSetDictionary=function(b,T){var s,U=T.length;return b&&b.state?0!==(s=b.state).wrap&&11!==s.mode?u:11===s.mode&&h(1,T,U,0)!==s.check?-3:et(b,T,U,U)?(s.mode=31,-4):(s.havedict=1,0):u},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,P,r){"use strict";var p=A("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];P.exports=function(D,y,C,u,_,a,m,c){var v,E,O,V,H,B,Z,I,W,et=c.bits,b=0,T=0,s=0,U=0,it=0,L=0,st=0,q=0,nt=0,F=0,S=null,tt=0,K=new p.Buf16(16),J=new p.Buf16(16),gt=null,bt=0;for(b=0;b<=15;b++)K[b]=0;for(T=0;T<u;T++)K[y[C+T]]++;for(it=et,U=15;1<=U&&0===K[U];U--);if(U<it&&(it=U),0===U)return _[a++]=20971520,_[a++]=20971520,c.bits=1,0;for(s=1;s<U&&0===K[s];s++);for(it<s&&(it=s),b=q=1;b<=15;b++)if(q<<=1,(q-=K[b])<0)return-1;if(0<q&&(0===D||1!==U))return-1;for(J[1]=0,b=1;b<15;b++)J[b+1]=J[b]+K[b];for(T=0;T<u;T++)0!==y[C+T]&&(m[J[y[C+T]]++]=T);if(B=0===D?(S=gt=m,19):1===D?(S=h,tt-=257,gt=l,bt-=257,256):(S=f,gt=k,-1),b=s,H=a,st=T=F=0,O=-1,V=(nt=1<<(L=it))-1,1===D&&852<nt||2===D&&592<nt)return 1;for(;;){for(Z=b-st,W=m[T]<B?(I=0,m[T]):m[T]>B?(I=gt[bt+m[T]],S[tt+m[T]]):(I=96,0),v=1<<b-st,s=E=1<<L;_[H+(F>>st)+(E-=v)]=Z<<24|I<<16|W|0,0!==E;);for(v=1<<b-1;F&v;)v>>=1;if(0!==v?(F&=v-1,F+=v):F=0,T++,0==--K[b]){if(b===U)break;b=y[C+m[T]]}if(it<b&&(F&V)!==O){for(0===st&&(st=it),H+=s,q=1<<(L=b-st);L+st<U&&!((q-=K[L+st])<=0);)L++,q<<=1;if(nt+=1<<L,1===D&&852<nt||2===D&&592<nt)return 1;_[O=F&V]=it<<24|L<<16|H-a|0}}return 0!==F&&(_[H+F]=b-st<<24|64<<16|0),c.bits=it,0}},{"../utils/common":41}],51:[function(A,P,r){"use strict";P.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,P,r){"use strict";var p=A("../utils/common");function f(d){for(var x=d.length;0<=--x;)d[x]=0}var y=256,C=286,u=30,m=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(576);f(et);var b=new Array(60);f(b);var T=new Array(512);f(T);var s=new Array(256);f(s);var U=new Array(29);f(U);var it,L,st,q=new Array(u);function nt(d,x,G,R,M){this.static_tree=d,this.extra_bits=x,this.extra_base=G,this.elems=R,this.max_length=M,this.has_stree=d&&d.length}function F(d,x){this.dyn_tree=d,this.max_code=0,this.stat_desc=x}function S(d){return d<256?T[d]:T[256+(d>>>7)]}function tt(d,x){d.pending_buf[d.pending++]=255&x,d.pending_buf[d.pending++]=x>>>8&255}function K(d,x,G){d.bi_valid>16-G?(d.bi_buf|=x<<d.bi_valid&65535,tt(d,d.bi_buf),d.bi_buf=x>>16-d.bi_valid,d.bi_valid+=G-16):(d.bi_buf|=x<<d.bi_valid&65535,d.bi_valid+=G)}function J(d,x,G){K(d,G[2*x],G[2*x+1])}function gt(d,x){for(var G=0;G|=1&d,d>>>=1,G<<=1,0<--x;);return G>>>1}function bt(d,x,G){var R,M,Y=new Array(16),X=0;for(R=1;R<=m;R++)Y[R]=X=X+G[R-1]<<1;for(M=0;M<=x;M++){var $=d[2*M+1];0!==$&&(d[2*M]=gt(Y[$]++,$))}}function lt(d){var x;for(x=0;x<C;x++)d.dyn_ltree[2*x]=0;for(x=0;x<u;x++)d.dyn_dtree[2*x]=0;for(x=0;x<19;x++)d.bl_tree[2*x]=0;d.dyn_ltree[512]=1,d.opt_len=d.static_len=0,d.last_lit=d.matches=0}function ut(d){8<d.bi_valid?tt(d,d.bi_buf):0<d.bi_valid&&(d.pending_buf[d.pending++]=d.bi_buf),d.bi_buf=0,d.bi_valid=0}function vt(d,x,G,R){var M=2*x,Y=2*G;return d[M]<d[Y]||d[M]===d[Y]&&R[x]<=R[G]}function pt(d,x,G){for(var R=d.heap[G],M=G<<1;M<=d.heap_len&&(M<d.heap_len&&vt(x,d.heap[M+1],d.heap[M],d.depth)&&M++,!vt(x,R,d.heap[M],d.depth));)d.heap[G]=d.heap[M],G=M,M<<=1;d.heap[G]=R}function At(d,x,G){var R,M,Y,X,$=0;if(0!==d.last_lit)for(;R=d.pending_buf[d.d_buf+2*$]<<8|d.pending_buf[d.d_buf+2*$+1],M=d.pending_buf[d.l_buf+$],$++,0===R?J(d,M,x):(J(d,(Y=s[M])+y+1,x),0!==(X=B[Y])&&K(d,M-=U[Y],X),J(d,Y=S(--R),G),0!==(X=Z[Y])&&K(d,R-=q[Y],X)),$<d.last_lit;);J(d,256,x)}function Ct(d,x){var G,R,M,Y=x.dyn_tree,X=x.stat_desc.static_tree,$=x.stat_desc.has_stree,Q=x.stat_desc.elems,ht=-1;for(d.heap_len=0,d.heap_max=573,G=0;G<Q;G++)0!==Y[2*G]?(d.heap[++d.heap_len]=ht=G,d.depth[G]=0):Y[2*G+1]=0;for(;d.heap_len<2;)Y[2*(M=d.heap[++d.heap_len]=ht<2?++ht:0)]=1,d.depth[M]=0,d.opt_len--,$&&(d.static_len-=X[2*M+1]);for(x.max_code=ht,G=d.heap_len>>1;1<=G;G--)pt(d,Y,G);for(M=Q;G=d.heap[1],d.heap[1]=d.heap[d.heap_len--],pt(d,Y,1),R=d.heap[1],d.heap[--d.heap_max]=G,d.heap[--d.heap_max]=R,Y[2*M]=Y[2*G]+Y[2*R],d.depth[M]=(d.depth[G]>=d.depth[R]?d.depth[G]:d.depth[R])+1,Y[2*G+1]=Y[2*R+1]=M,d.heap[1]=M++,pt(d,Y,1),2<=d.heap_len;);d.heap[--d.heap_max]=d.heap[1],function(at,kt){var Vt,Et,St,_t,Nt,Gt,Dt=kt.dyn_tree,Jt=kt.max_code,ve=kt.stat_desc.static_tree,Kt=kt.stat_desc.has_stree,Ut=kt.stat_desc.extra_bits,Ht=kt.stat_desc.extra_base,Ot=kt.stat_desc.max_length,Ft=0;for(_t=0;_t<=m;_t++)at.bl_count[_t]=0;for(Dt[2*at.heap[at.heap_max]+1]=0,Vt=at.heap_max+1;Vt<573;Vt++)Ot<(_t=Dt[2*Dt[2*(Et=at.heap[Vt])+1]+1]+1)&&(_t=Ot,Ft++),Dt[2*Et+1]=_t,Jt<Et||(at.bl_count[_t]++,Nt=0,Ht<=Et&&(Nt=Ut[Et-Ht]),at.opt_len+=(Gt=Dt[2*Et])*(_t+Nt),Kt&&(at.static_len+=Gt*(ve[2*Et+1]+Nt)));if(0!==Ft){do{for(_t=Ot-1;0===at.bl_count[_t];)_t--;at.bl_count[_t]--,at.bl_count[_t+1]+=2,at.bl_count[Ot]--,Ft-=2}while(0<Ft);for(_t=Ot;0!==_t;_t--)for(Et=at.bl_count[_t];0!==Et;)Jt<(St=at.heap[--Vt])||(Dt[2*St+1]!==_t&&(at.opt_len+=(_t-Dt[2*St+1])*Dt[2*St],Dt[2*St+1]=_t),Et--)}}(d,x),bt(Y,ht,d.bl_count)}function i(d,x,G){var R,M,Y=-1,X=x[1],$=0,Q=7,ht=4;for(0===X&&(Q=138,ht=3),x[2*(G+1)+1]=65535,R=0;R<=G;R++)M=X,X=x[2*(R+1)+1],++$<Q&&M===X||($<ht?d.bl_tree[2*M]+=$:0!==M?(M!==Y&&d.bl_tree[2*M]++,d.bl_tree[32]++):$<=10?d.bl_tree[34]++:d.bl_tree[36]++,Y=M,ht=($=0)===X?(Q=138,3):M===X?(Q=6,3):(Q=7,4))}function z(d,x,G){var R,M,Y=-1,X=x[1],$=0,Q=7,ht=4;for(0===X&&(Q=138,ht=3),R=0;R<=G;R++)if(M=X,X=x[2*(R+1)+1],!(++$<Q&&M===X)){if($<ht)for(;J(d,M,d.bl_tree),0!=--$;);else 0!==M?(M!==Y&&(J(d,M,d.bl_tree),$--),J(d,16,d.bl_tree),K(d,$-3,2)):$<=10?(J(d,17,d.bl_tree),K(d,$-3,3)):(J(d,18,d.bl_tree),K(d,$-11,7));Y=M,ht=($=0)===X?(Q=138,3):M===X?(Q=6,3):(Q=7,4)}}f(q);var N=!1;function g(d,x,G,R){var M,Y,X;K(d,0+(R?1:0),3),Y=x,X=G,ut(M=d),tt(M,X),tt(M,~X),p.arraySet(M.pending_buf,M.window,Y,X,M.pending),M.pending+=X}r._tr_init=function(d){N||(function(){var x,G,R,M,Y,X=new Array(16);for(M=R=0;M<28;M++)for(U[M]=R,x=0;x<1<<B[M];x++)s[R++]=M;for(s[R-1]=M,M=Y=0;M<16;M++)for(q[M]=Y,x=0;x<1<<Z[M];x++)T[Y++]=M;for(Y>>=7;M<u;M++)for(q[M]=Y<<7,x=0;x<1<<Z[M]-7;x++)T[256+Y++]=M;for(G=0;G<=m;G++)X[G]=0;for(x=0;x<=143;)et[2*x+1]=8,x++,X[8]++;for(;x<=255;)et[2*x+1]=9,x++,X[9]++;for(;x<=279;)et[2*x+1]=7,x++,X[7]++;for(;x<=287;)et[2*x+1]=8,x++,X[8]++;for(bt(et,287,X),x=0;x<u;x++)b[2*x+1]=5,b[2*x]=gt(x,5);it=new nt(et,B,257,C,m),L=new nt(b,Z,0,u,m),st=new nt(new Array(0),I,0,19,7)}(),N=!0),d.l_desc=new F(d.dyn_ltree,it),d.d_desc=new F(d.dyn_dtree,L),d.bl_desc=new F(d.bl_tree,st),d.bi_buf=0,d.bi_valid=0,lt(d)},r._tr_stored_block=g,r._tr_flush_block=function(d,x,G,R){var M,Y,X=0;0<d.level?(2===d.strm.data_type&&(d.strm.data_type=function($){var Q,ht=4093624447;for(Q=0;Q<=31;Q++,ht>>>=1)if(1&ht&&0!==$.dyn_ltree[2*Q])return 0;if(0!==$.dyn_ltree[18]||0!==$.dyn_ltree[20]||0!==$.dyn_ltree[26])return 1;for(Q=32;Q<y;Q++)if(0!==$.dyn_ltree[2*Q])return 1;return 0}(d)),Ct(d,d.l_desc),Ct(d,d.d_desc),X=function($){var Q;for(i($,$.dyn_ltree,$.l_desc.max_code),i($,$.dyn_dtree,$.d_desc.max_code),Ct($,$.bl_desc),Q=18;3<=Q&&0===$.bl_tree[2*W[Q]+1];Q--);return $.opt_len+=3*(Q+1)+5+5+4,Q}(d),(Y=d.static_len+3+7>>>3)<=(M=d.opt_len+3+7>>>3)&&(M=Y)):M=Y=G+5,G+4<=M&&-1!==x?g(d,x,G,R):4===d.strategy||Y===M?(K(d,2+(R?1:0),3),At(d,et,b)):(K(d,4+(R?1:0),3),function($,Q,ht,at){var kt;for(K($,Q-257,5),K($,ht-1,5),K($,at-4,4),kt=0;kt<at;kt++)K($,$.bl_tree[2*W[kt]+1],3);z($,$.dyn_ltree,Q-1),z($,$.dyn_dtree,ht-1)}(d,d.l_desc.max_code+1,d.d_desc.max_code+1,X+1),At(d,d.dyn_ltree,d.dyn_dtree)),lt(d),R&&ut(d)},r._tr_tally=function(d,x,G){return d.pending_buf[d.d_buf+2*d.last_lit]=x>>>8&255,d.pending_buf[d.d_buf+2*d.last_lit+1]=255&x,d.pending_buf[d.l_buf+d.last_lit]=255&G,d.last_lit++,0===x?d.dyn_ltree[2*G]++:(d.matches++,x--,d.dyn_ltree[2*(s[G]+y+1)]++,d.dyn_dtree[2*S(x)]++),d.last_lit===d.lit_bufsize-1},r._tr_align=function(d){var x;K(d,2,3),J(d,256,et),16===(x=d).bi_valid?(tt(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}},{"../utils/common":41}],53:[function(A,P,r){"use strict";P.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,P,r){(function(p){!function(h,l){"use strict";if(!h.setImmediate){var f,k,D,y,C=1,u={},_=!1,a=h.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(h);m=m&&m.setTimeout?m:h,f="[object process]"==={}.toString.call(h.process)?function(O){process.nextTick(function(){v(O)})}:function(){if(h.postMessage&&!h.importScripts){var O=!0,V=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=V,O}}()?(y="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",E,!1):h.attachEvent("onmessage",E),function(O){h.postMessage(y+O,"*")}):h.MessageChannel?((D=new MessageChannel).port1.onmessage=function(O){v(O.data)},function(O){D.port2.postMessage(O)}):a&&"onreadystatechange"in a.createElement("script")?(k=a.documentElement,function(O){var V=a.createElement("script");V.onreadystatechange=function(){v(O),V.onreadystatechange=null,k.removeChild(V),V=null},k.appendChild(V)}):function(O){setTimeout(v,0,O)},m.setImmediate=function(O){"function"!=typeof O&&(O=new Function(""+O));for(var V=new Array(arguments.length-1),H=0;H<V.length;H++)V[H]=arguments[H+1];return u[C]={callback:O,args:V},f(C),C++},m.clearImmediate=c}function c(O){delete u[O]}function v(O){if(_)setTimeout(v,0,O);else{var V=u[O];if(V){_=!0;try{!function(H){var B=H.callback,Z=H.args;switch(Z.length){case 0:B();break;case 1:B(Z[0]);break;case 2:B(Z[0],Z[1]);break;case 3:B(Z[0],Z[1],Z[2]);break;default:B.apply(undefined,Z)}}(V)}finally{c(O),_=!1}}}}function E(O){O.source===h&&"string"==typeof O.data&&0===O.data.indexOf(y)&&v(+O.data.slice(y.length))}}("undefined"==typeof self?void 0===p?this:p:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}}]);